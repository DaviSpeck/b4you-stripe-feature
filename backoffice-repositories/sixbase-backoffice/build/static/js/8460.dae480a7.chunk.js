"use strict";(self.webpackChunksixbase_backoffice=self.webpackChunksixbase_backoffice||[]).push([[8460],{78460:(e,t,l)=>{l.r(t),l.d(t,{default:()=>z});var a=l(89379),s=l(9950),o=l(35203),n=l(59051),r=l.n(n),i=l(45530),d=l(13955),c=l(98664),u=l(34964),m=(l(94300),l(27655));const h=[{value:"Norte",label:"Norte"},{value:"Nordeste",label:"Nordeste"},{value:"Centro-Oeste",label:"Centro-Oeste"},{value:"Sudeste",label:"Sudeste"},{value:"Sul",label:"Sul"}],v={AC:"Norte",AP:"Norte",AM:"Norte",PA:"Norte",RO:"Norte",RR:"Norte",TO:"Norte",AL:"Nordeste",BA:"Nordeste",CE:"Nordeste",MA:"Nordeste",PB:"Nordeste",PE:"Nordeste",PI:"Nordeste",RN:"Nordeste",SE:"Nordeste",DF:"Centro-Oeste",GO:"Centro-Oeste",MT:"Centro-Oeste",MS:"Centro-Oeste",ES:"Sudeste",MG:"Sudeste",RJ:"Sudeste",SP:"Sudeste",PR:"Sul",RS:"Sul",SC:"Sul"},x=[{value:"1",label:"Aguardando pagamento"},{value:"2",label:"Pago"},{value:"3",label:"Negado"},{value:"4",label:"Reembolsado"},{value:"5",label:"Chargedback"},{value:"6",label:"Reembolso solicitado"},{value:"7",label:"Expirado"},{value:"8",label:"Chargedback em disputa"}],p={1:"Aguardando pagamento",2:"Pago",3:"Negado",4:"Reembolsado",5:"Chargedback",6:"Reembolso solicitado",7:"Expirado",8:"Chargedback em disputa"};var f=l(44414);const g=e=>{let{calendar:t,selectedSeller:l,selectedProductFilter:a,selectedOptions:n,selectedRegion:r,selectedState:i,stateOptions:d,filteredSellerOptions:v,filteredProductOptions:p,sellerSearchTerm:g,productSearchTerm:b,isProductSearching:j,isSellerLoading:y,isProductLoading:C,onDateChange:N,onSellerChange:S,onProductChange:R,onStatusChange:k,onRegionChange:E,onStateChange:A,onSellerInputChange:M,onProductInputChange:w,onExportCsv:O,setQuickRange:D}=e;const P=(0,s.useCallback)(()=>{const e=new Date;N([e,e])},[N]),B=(0,s.useCallback)(()=>D(7),[D]),T=(0,s.useCallback)(()=>D(30),[D]),z=(0,s.useCallback)(()=>D(90),[D]);return(0,f.jsx)(o.Zp,{className:"mb-2",children:(0,f.jsxs)(o.bw,{children:[(0,f.jsxs)(o.fI,{className:"g-2 align-items-end",children:[(0,f.jsxs)(o.fv,{xs:12,md:4,children:[(0,f.jsx)(o.JU,{className:"mb-1",children:"Intervalo de datas"}),(0,f.jsxs)("div",{className:"d-flex align-items-center",children:[(0,f.jsx)(c.A,{size:15}),(0,f.jsx)(u.A,{className:"form-control flat-picker bg-transparent border-0 shadow-none",value:t,onChange:N,options:{mode:"range",dateFormat:"d/m/Y"}})]}),(0,f.jsxs)("div",{className:"d-flex flex-wrap gap-1 mt-1",children:[(0,f.jsx)(o.$n,{size:"sm",color:"primary",onClick:P,children:"Hoje"}),(0,f.jsx)(o.$n,{size:"sm",color:"primary",onClick:B,children:"7 dias"}),(0,f.jsx)(o.$n,{size:"sm",color:"primary",onClick:T,children:"30 dias"}),(0,f.jsx)(o.$n,{size:"sm",color:"primary",onClick:z,children:"90 dias"})]})]}),(0,f.jsxs)(o.fv,{xs:12,md:4,children:[(0,f.jsx)(o.JU,{className:"mb-1",children:"Produtor"}),(0,f.jsx)(m.Ay,{classNamePrefix:"select",className:"react-select",placeholder:y?"Carregando produtores...":"Digite para buscar produtor...",options:v,value:l,onChange:S,onInputChange:M,inputValue:g,isClearable:!0,isSearchable:!0,isLoading:y,filterOption:()=>!0,noOptionsMessage:()=>y?"Carregando...":g.trim()?"Nenhum produtor encontrado":"Digite para buscar produtores"})]}),(0,f.jsxs)(o.fv,{xs:12,md:4,children:[(0,f.jsx)(o.JU,{className:"mb-1",children:"Produto"}),(0,f.jsx)(m.Ay,{classNamePrefix:"select",className:"react-select",placeholder:C||j?"Carregando produtos...":"Digite para buscar produto...",options:p,value:a,onChange:R,onInputChange:w,inputValue:b,isClearable:!0,isSearchable:!0,isLoading:C||j,filterOption:()=>!0,noOptionsMessage:()=>C||j?"Carregando...":b.trim()?"Nenhum produto encontrado":"Digite para buscar produtos"})]})]}),(0,f.jsxs)(o.fI,{className:"g-2 mt-2 align-items-end",children:[(0,f.jsxs)(o.fv,{xs:12,md:4,children:[(0,f.jsx)(o.JU,{className:"mb-1",children:"Status"}),(0,f.jsx)(m.Ay,{isMulti:!0,classNamePrefix:"select",className:"react-select",placeholder:"Selecione op\xe7\xf5es",options:x,value:n,onChange:k,closeMenuOnSelect:!1,hideSelectedOptions:!1})]}),(0,f.jsxs)(o.fv,{xs:12,md:4,children:[(0,f.jsx)(o.JU,{className:"mb-1",children:"Regi\xe3o"}),(0,f.jsx)(m.Ay,{classNamePrefix:"select",className:"react-select",placeholder:"Selecione uma regi\xe3o",options:h,value:r,onChange:E,isClearable:!0})]}),(0,f.jsxs)(o.fv,{xs:12,md:4,children:[(0,f.jsx)(o.JU,{className:"mb-1",children:"Estado"}),(0,f.jsx)(m.Ay,{classNamePrefix:"select",className:"react-select",placeholder:"Selecione um estado",options:d,value:i,onChange:A,isClearable:!0,isDisabled:0===d.length})]})]})]})})},b=e=>{let{summary:t,apiData:l,loadingState:a={}}=e;const s=a.paymentMethod||!1,n=a.calculations||!1,r=s||!!l,i=n||!!l,c=n||!!l;return(0,f.jsxs)(o.fI,{children:[r&&(0,f.jsx)(o.fv,{lg:4,md:12,className:"mb-3",children:s?(0,f.jsx)("div",{className:"table-responsive",children:(0,f.jsxs)("table",{className:"table table-bordered table-sm",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{style:{fontSize:"0.85rem",fontWeight:"bold"},children:(0,f.jsx)("div",{className:"skeleton-shimmer",style:{height:"14px",width:"60px"}})}),(0,f.jsx)("th",{style:{fontSize:"0.85rem",fontWeight:"bold"},className:"text-end",children:(0,f.jsx)("div",{className:"skeleton-shimmer",style:{height:"14px",width:"50px",marginLeft:"auto"}})})]})}),(0,f.jsx)("tbody",{children:Array.from({length:3}).map((e,t)=>(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{style:{fontSize:"0.9rem"},children:(0,f.jsx)("div",{className:"skeleton-shimmer skeleton-pill",style:{height:"20px",width:"".concat(120-8*t,"px")}})}),(0,f.jsx)("td",{className:"text-end",children:(0,f.jsx)("div",{className:"skeleton-shimmer",style:{height:"16px",width:"".concat(80-5*t,"px"),marginLeft:"auto"}})})]},t))})]})}):(0,f.jsx)("div",{className:"table-responsive",children:(0,f.jsxs)("table",{className:"table table-bordered table-sm",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{style:{fontSize:"0.85rem",fontWeight:"bold"},children:"M\xe9trica"}),(0,f.jsx)("th",{style:{fontSize:"0.85rem",fontWeight:"bold"},className:"text-end",children:"Valor"})]})}),(0,f.jsxs)("tbody",{children:[(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{style:{fontSize:"0.9rem"},children:(0,f.jsx)("span",{className:"badge badge-light-primary",children:"Total de Vendas"})}),(0,f.jsx)("td",{style:{fontSize:"0.9rem",fontWeight:"500"},className:"text-end text-primary",children:t.totalVendas.toLocaleString()})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{style:{fontSize:"0.9rem"},children:(0,f.jsx)("span",{className:"badge badge-light-primary",children:"Faturamento"})}),(0,f.jsx)("td",{style:{fontSize:"0.9rem",fontWeight:"500"},className:"text-end text-primary",children:(0,d.cC)(t.totalFaturamento)})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{style:{fontSize:"0.9rem"},children:(0,f.jsx)("span",{className:"badge badge-light-primary",children:"B4You Recebeu"})}),(0,f.jsx)("td",{style:{fontSize:"0.9rem",fontWeight:"500"},className:"text-end text-primary",children:(0,d.cC)(t.b4youRecebeu)})]})]})]})})}),i&&(0,f.jsx)(o.fv,{lg:4,md:12,className:"mb-3",children:n?(0,f.jsx)("div",{className:"table-responsive",children:(0,f.jsxs)("table",{className:"table table-bordered table-sm",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{style:{fontSize:"0.85rem",fontWeight:"bold"},children:(0,f.jsx)("div",{className:"skeleton-shimmer",style:{height:"16px",width:"40px",borderRadius:"4px"}})}),(0,f.jsx)("th",{style:{fontSize:"0.85rem",fontWeight:"bold"},className:"text-end",children:(0,f.jsx)("div",{className:"skeleton-shimmer",style:{height:"16px",width:"90px",borderRadius:"4px",marginLeft:"auto"}})})]})}),(0,f.jsx)("tbody",{children:Array.from({length:3}).map((e,t)=>(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{style:{fontSize:"0.9rem"},children:(0,f.jsx)("div",{className:"skeleton-shimmer",style:{height:"20px",width:"100px",borderRadius:"12px"}})}),(0,f.jsx)("td",{className:"text-end",children:(0,f.jsx)("div",{className:"skeleton-shimmer",style:{height:"16px",width:"70px",borderRadius:"4px",marginLeft:"auto"}})})]},t))})]})}):(0,f.jsxs)(f.Fragment,{children:[(null===l||void 0===l?void 0:l.commissionsByRole)&&(0,f.jsx)("div",{className:"table-responsive",children:(0,f.jsxs)("table",{className:"table table-bordered table-sm",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{style:{fontSize:"0.85rem",fontWeight:"bold"},children:"Fun\xe7\xe3o"}),(0,f.jsx)("th",{style:{fontSize:"0.85rem",fontWeight:"bold"},className:"text-end",children:"Total Recebido"})]})}),(0,f.jsx)("tbody",{children:Object.entries(l.commissionsByRole).filter(e=>{let[,t]=e;return t.total>0}).sort((e,t)=>t[1].total-e[1].total).map(e=>{let[t,l]=e;return(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{style:{fontSize:"0.9rem"},children:(0,f.jsx)("span",{className:"badge badge-light-primary",children:l.label})}),(0,f.jsx)("td",{style:{fontSize:"0.9rem",fontWeight:"500"},className:"text-end",children:(0,d.cC)(l.total)})]},t)})})]})}),(!(null!==l&&void 0!==l&&l.commissionsByRole)||Object.values(l.commissionsByRole).every(e=>0===e.total))&&(0,f.jsx)("div",{className:"text-center text-muted",style:{fontSize:"0.9rem"},children:(0,f.jsx)("em",{children:"Nenhuma comiss\xe3o registrada no per\xedodo"})})]})}),c&&(0,f.jsx)(o.fv,{lg:4,md:12,className:"mb-3",children:n?(0,f.jsx)("div",{className:"table-responsive",children:(0,f.jsxs)("table",{className:"table table-bordered table-sm",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{style:{fontSize:"0.85rem",fontWeight:"bold"},children:(0,f.jsx)("div",{className:"skeleton-shimmer",style:{height:"16px",width:"60px",borderRadius:"4px"}})}),(0,f.jsx)("th",{style:{fontSize:"0.85rem",fontWeight:"bold"},className:"text-end",children:(0,f.jsx)("div",{className:"skeleton-shimmer",style:{height:"16px",width:"40px",borderRadius:"4px",marginLeft:"auto"}})})]})}),(0,f.jsx)("tbody",{children:Array.from({length:3}).map((e,t)=>(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{style:{fontSize:"0.9rem"},children:(0,f.jsx)("div",{className:"skeleton-shimmer",style:{height:"20px",width:"60px",borderRadius:"12px"}})}),(0,f.jsx)("td",{className:"text-end",children:(0,f.jsx)("div",{className:"skeleton-shimmer",style:{height:"16px",width:"50px",borderRadius:"4px",marginLeft:"auto"}})})]},t))})]})}):(0,f.jsx)("div",{className:"table-responsive",children:(0,f.jsxs)("table",{className:"table table-bordered table-sm",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{style:{fontSize:"0.85rem",fontWeight:"bold"},children:"M\xe9todo"}),(0,f.jsx)("th",{style:{fontSize:"0.85rem",fontWeight:"bold"},className:"text-end",children:"Taxa"})]})}),(0,f.jsxs)("tbody",{children:[(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{style:{fontSize:"0.9rem"},children:(0,f.jsx)("span",{className:"badge badge-light-primary",children:"PIX"})}),(0,f.jsxs)("td",{style:{fontSize:"0.9rem",fontWeight:"500",color:t.taxaConversaoPix<30?"#dc3545":t.taxaConversaoPix<60?"#ffc107":"#28a745"},className:"text-end",children:[t.taxaConversaoPix,"%"]})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{style:{fontSize:"0.9rem"},children:(0,f.jsx)("span",{className:"badge badge-light-primary",children:"Cart\xe3o"})}),(0,f.jsxs)("td",{style:{fontSize:"0.9rem",fontWeight:"500",color:t.taxaConversaoCartao<30?"#dc3545":t.taxaConversaoCartao<60?"#ffc107":"#28a745"},className:"text-end",children:[t.taxaConversaoCartao,"%"]})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{style:{fontSize:"0.9rem"},children:(0,f.jsx)("span",{className:"badge badge-light-primary",children:"Boleto"})}),(0,f.jsxs)("td",{style:{fontSize:"0.9rem",fontWeight:"500",color:t.taxaConversaoBoleto<30?"#dc3545":t.taxaConversaoBoleto<60?"#ffc107":"#28a745"},className:"text-end",children:[t.taxaConversaoBoleto,"%"]})]})]})]})})})]})};var j=l(81095),y=l(22470),C=l(85706),N=l(60158),S=l(44813),R=l(71052),k=(0,y.gu)({chartName:"BarChart",GraphicalChild:C.y,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:N.W},{axisType:"yAxis",AxisComp:S.h}],formatAxisMap:R.pr}),E=l(93245),A=l(16335),M=l(72528);let w=function(e){return e.DEVICE="device",e.BROWSER="browser",e.OS="os",e.ORIGIN="origin",e}({});const O={[w.DEVICE]:"Dispositivo",[w.BROWSER]:"Navegador",[w.OS]:"Sistema Operacional",[w.ORIGIN]:"Origem"},D=e=>{let{active:t,payload:l,label:a,note:s}=e;if(!t||null===l||void 0===l||!l.length)return null;const o=l[0].value,n=a?a.toString():"Indefinido";return(0,f.jsxs)("div",{style:{background:"#1e1e1e",padding:"8px 12px",borderRadius:"8px",color:"#fff",boxShadow:"0 2px 6px rgba(0,0,0,0.3)",maxWidth:260,whiteSpace:"normal"},children:[(0,f.jsx)("p",{style:{margin:0,fontWeight:"bold"},children:n}),(0,f.jsxs)("p",{style:{margin:0},children:["Valor: ",o]}),s&&(0,f.jsx)("small",{style:{display:"block",marginTop:4,color:"#999"},children:s})]})},P=(e,t,l,a)=>!e.name||["indefinido","outros","outro"].includes(e.name.toLowerCase())?"#888888":a(e,t,l),B=e=>{let{x:t,y:l,payload:a}=e;const s=(e=>{if(!e||!e.trim())return"Indefinido";const t=e.toLowerCase();return["outros","outro"].includes(t)?"Indefinido":e})(a.value).split(/\s+/);return(0,f.jsx)("text",{x:t,y:l+10,textAnchor:"middle",fill:"#ffffff",fontSize:11,children:s.map((e,l)=>(0,f.jsx)("tspan",{x:t,dy:0===l?0:12,children:e},l))})},T=e=>{let{byMethod:t,byStatus:l,byDevice:a,byBrowser:n,byOS:r,byOrigin:i,byRegion:d,deviceLevel:c,selectedRegion:u,onDeviceLevelChange:m,getBarColor:h,conversionRates:v,loadingState:x={}}=e;const p=(0,s.useCallback)(e=>{m(e)},[m]),g=300,b=x.paymentMethod||!1,y=x.status||!1,R=x.region||!1,T=x.origin||!1,z=b||t.length>0,L=y||l.length>0,I=T||a.length>0,F=R||d.length>0;return(0,f.jsxs)(o.fI,{className:"g-2 align-items-stretch",children:[z&&(0,f.jsx)(o.fv,{xs:12,md:6,className:"d-flex",children:(0,f.jsx)(o.Zp,{className:"w-100 d-flex flex-column h-100",children:(0,f.jsx)(o.bw,{className:"d-flex flex-column",children:b?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"mb-3",children:(0,f.jsx)("div",{className:"skeleton-shimmer",style:{height:"18px",width:"200px"}})}),(0,f.jsx)("div",{style:{height:g},className:"skeleton-chart"})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(o.ZB,{tag:"h6",className:"mb-2",children:"Por M\xe9todo de Pagamento"}),(0,f.jsx)("div",{style:{height:g,flexGrow:1},children:(0,f.jsx)(j.u,{width:"100%",height:"100%",children:(0,f.jsxs)(k,{data:t,children:[(0,f.jsx)(E.d,{strokeDasharray:"3 3"}),(0,f.jsx)(N.W,{dataKey:"name",tick:(0,f.jsx)(B,{}),interval:0}),(0,f.jsx)(S.h,{tick:{fill:"#ffffff",fontSize:12}}),(0,f.jsx)(A.m,{content:e=>{var t;let{active:l,payload:a,label:s}=e;if(!l||null===a||void 0===a||!a.length)return null;const o=(s||"indefinido").toLowerCase();null===v||void 0===v||null===(t=v.byMethod)||void 0===t||t[o];return(0,f.jsx)(D,{active:l,payload:a,label:s})}}),(0,f.jsx)(C.y,{dataKey:"value",children:t.map((e,l)=>(0,f.jsx)(M.f,{fill:P(e,t,l,h)},"cell-".concat(l)))})]})})})]})})})}),L&&(0,f.jsx)(o.fv,{xs:12,md:6,className:"d-flex",children:(0,f.jsx)(o.Zp,{className:"w-100 d-flex flex-column h-100",children:(0,f.jsx)(o.bw,{className:"d-flex flex-column",children:y?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"mb-3",children:(0,f.jsx)("div",{className:"skeleton-shimmer",style:{height:"18px",width:"150px"}})}),(0,f.jsx)("div",{style:{height:g},className:"skeleton-chart"})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(o.ZB,{tag:"h6",className:"mb-2",children:"Por Status de Pagamento"}),(0,f.jsx)("div",{style:{height:g,flexGrow:1},children:(0,f.jsx)(j.u,{width:"100%",height:"100%",children:(0,f.jsxs)(k,{data:l,children:[(0,f.jsx)(E.d,{strokeDasharray:"3 3"}),(0,f.jsx)(N.W,{dataKey:"name",tick:(0,f.jsx)(B,{}),interval:0}),(0,f.jsx)(S.h,{tick:{fill:"#ffffff",fontSize:12}}),(0,f.jsx)(A.m,{content:(0,f.jsx)(D,{})}),(0,f.jsx)(C.y,{dataKey:"value",children:l.map((e,t)=>(0,f.jsx)(M.f,{fill:P(e,l,t,h)},"cell-".concat(t)))})]})})})]})})})}),I&&(0,f.jsx)(o.fv,{xs:12,md:6,className:"d-flex",children:(0,f.jsx)(o.Zp,{className:"w-100 d-flex flex-column h-100",children:(0,f.jsx)(o.bw,{className:"d-flex flex-column",children:T?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,f.jsx)("div",{className:"skeleton-shimmer",style:{height:"18px",width:"180px"}}),(0,f.jsx)("div",{className:"d-flex gap-2",children:Array.from({length:4}).map((e,t)=>(0,f.jsx)("div",{className:"skeleton-shimmer",style:{height:"28px",width:"70px"}},t))})]}),(0,f.jsx)("div",{style:{height:g},className:"skeleton-chart"})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-2",style:{minHeight:48},children:[(0,f.jsx)(o.ZB,{tag:"h6",className:"mb-0",children:"Distribui\xe7\xe3o por ".concat(O[c])}),(0,f.jsx)("div",{className:"d-flex flex-wrap gap-1",children:Object.entries(w).map(e=>{let[t,l]=e;return(0,f.jsx)(o.$n,{size:"sm",color:c===l?"primary":"light",onClick:()=>p(l),children:O[l]},l)})})]}),(0,f.jsx)("div",{style:{height:g,flexGrow:1},children:(0,f.jsx)(j.u,{width:"100%",height:"100%",children:(0,f.jsxs)(k,{data:c===w.DEVICE?a:c===w.BROWSER?n:c===w.OS?r:i,children:[(0,f.jsx)(E.d,{strokeDasharray:"3 3"}),(0,f.jsx)(N.W,{dataKey:"name",tick:(0,f.jsx)(B,{}),interval:0}),(0,f.jsx)(S.h,{tick:{fill:"#ffffff",fontSize:12}}),(0,f.jsx)(A.m,{content:(0,f.jsx)(D,{})}),(0,f.jsx)(C.y,{dataKey:"value",children:(c===w.DEVICE?a:c===w.BROWSER?n:c===w.OS?r:i).map((e,t,l)=>(0,f.jsx)(M.f,{fill:P(e,l,t,h)},"cell-".concat(t)))})]})})})]})})})}),F&&(0,f.jsx)(o.fv,{xs:12,md:6,className:"d-flex",children:(0,f.jsx)(o.Zp,{className:"w-100 d-flex flex-column h-100",children:(0,f.jsx)(o.bw,{className:"d-flex flex-column",children:R?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:(0,f.jsx)("div",{className:"skeleton-shimmer",style:{height:"18px",width:"180px"}})}),(0,f.jsx)("div",{style:{height:g},className:"skeleton-chart"})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(o.ZB,{tag:"h6",className:"mb-2",children:u?"Por Estado - ".concat(u.label):"Por Regi\xe3o"}),(0,f.jsx)("div",{style:{height:g,flexGrow:1},children:(0,f.jsx)(j.u,{width:"100%",height:"100%",children:(0,f.jsxs)(k,{data:d,children:[(0,f.jsx)(E.d,{strokeDasharray:"3 3"}),(0,f.jsx)(N.W,{dataKey:"name",tick:(0,f.jsx)(B,{}),interval:0}),(0,f.jsx)(S.h,{tick:{fill:"#ffffff",fontSize:12}}),(0,f.jsx)(A.m,{content:(0,f.jsx)(D,{})}),(0,f.jsx)(C.y,{dataKey:"value",children:d.map((e,t)=>(0,f.jsx)(M.f,{fill:P(e,d,t,h)},"cell-".concat(t)))})]})})})]})})})})]})},z=()=>{var e,t,l,n;const[c,u]=(0,s.useState)(()=>{const e=r()();return{start:r()().startOf("month").format("YYYY-MM-DD"),end:e.format("YYYY-MM-DD")}}),[m,h]=(0,s.useState)(()=>[r()().startOf("month").toDate(),r()().toDate()]),[x,j]=(0,s.useState)([]),[y,C]=(0,s.useState)(null),[N,S]=(0,s.useState)(null),[R,k]=(0,s.useState)(null),[E,A]=(0,s.useState)(null),[M,O]=(0,s.useState)(null),[D,P]=(0,s.useState)({paymentMethod:null,status:null,region:null,state:null,seller:null,product:null,origin:null,calculations:null}),[B,z]=(0,s.useState)({paymentMethod:!1,status:!1,region:!1,state:!1,seller:!1,product:!1,origin:!1,calculations:!1}),[L,I]=(0,s.useState)([]),[F,Y]=(0,s.useState)([]),[_,W]=(0,s.useState)([]),[V,J]=(0,s.useState)(!1),[G,Z]=(0,s.useState)([]),[K,U]=(0,s.useState)(""),[$,X]=(0,s.useState)(""),[H,Q]=(0,s.useState)(""),[q,ee]=(0,s.useState)(""),te=(0,s.useRef)(null),le=(0,s.useRef)(null),[ae,se]=(0,s.useState)(w.DEVICE),oe=(0,s.useRef)(null);(0,s.useEffect)(()=>(te.current&&clearTimeout(te.current),te.current=setTimeout(()=>{Q(K)},500),()=>{te.current&&clearTimeout(te.current)}),[K]),(0,s.useEffect)(()=>(le.current&&clearTimeout(le.current),le.current=setTimeout(()=>{ee($)},500),()=>{le.current&&clearTimeout(le.current)}),[$]);const ne=(0,s.useMemo)(()=>H.trim()?G.filter(e=>e.label.toLowerCase().includes(H.toLowerCase())):G.slice(0,10),[G,H]),re=(0,s.useCallback)(async e=>{if(!e.trim())return W([]),void J(!1);try{J(!0);const t=F.filter(t=>t.label.toLowerCase().includes(e.toLowerCase()));if(t.length>0)return W(t),void J(!1);const l={start_date:c.start,end_date:c.end,payment_method:"all",statuses:x.length>0?x.map(e=>e.value):void 0,region:null===y||void 0===y?void 0:y.value,state:null===N||void 0===N?void 0:N.value,id_user:null===E||void 0===E?void 0:E.value,search_term:e,limit:20},a=(await i.F.post("/checkout/analytics/product-search",l)).data,s=Object.entries(a).map(e=>{let[t,l]=e;return{value:t,label:l.product_name,count:l.total_count}});W(s)}catch(M){console.error("Erro ao buscar produtos:",M),W([])}finally{J(!1)}},[c.start,c.end,x,null===y||void 0===y?void 0:y.value,null===N||void 0===N?void 0:N.value,null===E||void 0===E?void 0:E.value,F]),ie=(0,s.useMemo)(()=>q.trim()?V&&_.length>0?_:F.filter(e=>e.label.toLowerCase().includes(q.toLowerCase())):F.slice(0,10),[F,q,V,_]);(0,s.useEffect)(()=>{if(q.trim()){if(!F.some(e=>e.label.toLowerCase().includes(q.toLowerCase()))){const e=setTimeout(()=>{re(q)},300);return()=>clearTimeout(e)}re(q)}else W([]),J(!1)},[q,re,F]);const de=(0,s.useCallback)(async()=>{try{O(null);if(!Boolean((null===m||void 0===m?void 0:m[0])&&(null===m||void 0===m?void 0:m[1])))return;const e={start_date:c.start,end_date:c.end,payment_method:"all",input:void 0,statuses:x.length>0?x.map(e=>e.value):void 0,region:null===y||void 0===y?void 0:y.value,state:null===N||void 0===N?void 0:N.value,id_product:null===R||void 0===R?void 0:R.value,id_user:null===E||void 0===E?void 0:E.value};oe.current&&oe.current.abort();const t=new AbortController;oe.current=t;const l=t.signal;z({paymentMethod:!0,status:!0,region:!0,state:!0,seller:!0,product:!0,origin:!0,calculations:!0});const s=i.F.post("/checkout/analytics/payment-method",e,{signal:l}).then(e=>{P(t=>(0,a.A)((0,a.A)({},t),{},{paymentMethod:e.data})),z(e=>(0,a.A)((0,a.A)({},e),{},{paymentMethod:!1}))}).catch(e=>{"CanceledError"!==(null===e||void 0===e?void 0:e.name)&&"ERR_CANCELED"!==(null===e||void 0===e?void 0:e.code)&&console.warn("Erro no endpoint payment-method:",e),z(e=>(0,a.A)((0,a.A)({},e),{},{paymentMethod:!1}))}),o=i.F.post("/checkout/analytics/status",e,{signal:l}).then(e=>{P(t=>(0,a.A)((0,a.A)({},t),{},{status:e.data})),z(e=>(0,a.A)((0,a.A)({},e),{},{status:!1}))}).catch(e=>{"CanceledError"!==(null===e||void 0===e?void 0:e.name)&&"ERR_CANCELED"!==(null===e||void 0===e?void 0:e.code)&&console.warn("Erro no endpoint status:",e),z(e=>(0,a.A)((0,a.A)({},e),{},{status:!1}))}),n=i.F.post("/checkout/analytics/region",e,{signal:l}).then(e=>{P(t=>(0,a.A)((0,a.A)({},t),{},{region:e.data})),z(e=>(0,a.A)((0,a.A)({},e),{},{region:!1}))}).catch(e=>{"CanceledError"!==(null===e||void 0===e?void 0:e.name)&&"ERR_CANCELED"!==(null===e||void 0===e?void 0:e.code)&&console.warn("Erro no endpoint region:",e),z(e=>(0,a.A)((0,a.A)({},e),{},{region:!1}))}),r=i.F.post("/checkout/analytics/state",e,{signal:l}).then(e=>{P(t=>(0,a.A)((0,a.A)({},t),{},{state:e.data})),z(e=>(0,a.A)((0,a.A)({},e),{},{state:!1}))}).catch(e=>{"CanceledError"!==(null===e||void 0===e?void 0:e.name)&&"ERR_CANCELED"!==(null===e||void 0===e?void 0:e.code)&&console.warn("Erro no endpoint state:",e),z(e=>(0,a.A)((0,a.A)({},e),{},{state:!1}))}),d=i.F.post("/checkout/analytics/seller",e,{signal:l}).then(e=>{P(t=>(0,a.A)((0,a.A)({},t),{},{seller:e.data})),z(e=>(0,a.A)((0,a.A)({},e),{},{seller:!1}))}).catch(e=>{"CanceledError"!==(null===e||void 0===e?void 0:e.name)&&"ERR_CANCELED"!==(null===e||void 0===e?void 0:e.code)&&console.warn("Erro no endpoint seller:",e),z(e=>(0,a.A)((0,a.A)({},e),{},{seller:!1}))}),u=i.F.post("/checkout/analytics/product",e,{signal:l}).then(e=>{P(t=>(0,a.A)((0,a.A)({},t),{},{product:e.data})),z(e=>(0,a.A)((0,a.A)({},e),{},{product:!1}))}).catch(e=>{"CanceledError"!==(null===e||void 0===e?void 0:e.name)&&"ERR_CANCELED"!==(null===e||void 0===e?void 0:e.code)&&console.warn("Erro no endpoint product:",e),z(e=>(0,a.A)((0,a.A)({},e),{},{product:!1}))}),h=i.F.post("/checkout/analytics/origin",e,{signal:l}).then(e=>{P(t=>(0,a.A)((0,a.A)({},t),{},{origin:e.data})),z(e=>(0,a.A)((0,a.A)({},e),{},{origin:!1}))}).catch(e=>{"CanceledError"!==(null===e||void 0===e?void 0:e.name)&&"ERR_CANCELED"!==(null===e||void 0===e?void 0:e.code)&&console.warn("Erro no endpoint origin:",e),z(e=>(0,a.A)((0,a.A)({},e),{},{origin:!1}))}),v=i.F.post("/checkout/analytics/calculations",e,{signal:l}).then(e=>{P(t=>(0,a.A)((0,a.A)({},t),{},{calculations:e.data})),z(e=>(0,a.A)((0,a.A)({},e),{},{calculations:!1}))}).catch(e=>{"CanceledError"!==(null===e||void 0===e?void 0:e.name)&&"ERR_CANCELED"!==(null===e||void 0===e?void 0:e.code)&&console.warn("Erro no endpoint calculations:",e),z(e=>(0,a.A)((0,a.A)({},e),{},{calculations:!1}))});await Promise.allSettled([s,o,n,r,d,u,h,v])}catch(e){if("CanceledError"===(null===e||void 0===e?void 0:e.name)||"ERR_CANCELED"===(null===e||void 0===e?void 0:e.code))return void z({paymentMethod:!1,status:!1,region:!1,state:!1,seller:!1,product:!1,origin:!1,calculations:!1});console.error("Erro ao buscar dados de analytics separados:",e),O("Erro ao carregar dados. Tente novamente."),z({paymentMethod:!1,status:!1,region:!1,state:!1,seller:!1,product:!1,origin:!1,calculations:!1})}},[c.start,c.end,x,null===y||void 0===y?void 0:y.value,null===N||void 0===N?void 0:N.value,null===R||void 0===R?void 0:R.value,null===E||void 0===E?void 0:E.value]),ce=(0,s.useCallback)(()=>{var e,t,l,a,s,o,n,r,i,d;if(!(null!==D.paymentMethod||null!==D.status||null!==D.region||null!==D.state||null!==D.origin||null!==D.calculations))return null;return{totalItems:(null===(e=D.paymentMethod)||void 0===e?void 0:e.totalItems)||0,totalSalesPrice:(null===(t=D.paymentMethod)||void 0===t?void 0:t.totalSalesPrice)||0,salesMethodsCount:(null===(l=D.paymentMethod)||void 0===l?void 0:l.salesMethodsCount)||{},salesMethodsCountSimple:(null===(a=D.paymentMethod)||void 0===a?void 0:a.salesMethodsCountSimple)||{},salesByStatus:D.status||{},regionCounts:(null===(s=D.region)||void 0===s?void 0:s.regionCounts)||{},stateCounts:(null===(o=D.state)||void 0===o?void 0:o.stateCounts)||{},totalFeeB4you:(null===(n=D.calculations)||void 0===n?void 0:n.totalFeeB4you)||0,commissionsByRole:(null===(r=D.calculations)||void 0===r?void 0:r.commissionsByRole)||{},conversionRates:(null===(i=D.calculations)||void 0===i?void 0:i.conversionRates)||{byMethod:{}},agentStatus:(null===(d=D.calculations)||void 0===d?void 0:d.agentStatus)||{devices:{},browsers:{},os:{},origins:{}},totalSalesBySeller:D.seller||{},totalSalesByProduct:D.product||{}}},[D])(),ue=(0,s.useRef)(null),me=(0,s.useRef)("");(0,s.useEffect)(()=>{ue.current&&clearTimeout(ue.current);const e=JSON.stringify({start_date:c.start,end_date:c.end,selectedOptions:x.map(e=>e.value),region:null===y||void 0===y?void 0:y.value,state:null===N||void 0===N?void 0:N.value,product:null===R||void 0===R?void 0:R.value,seller:null===E||void 0===E?void 0:E.value});if(e!==me.current)return me.current=e,ue.current=setTimeout(()=>{de()},100),()=>{ue.current&&clearTimeout(ue.current)}},[de,c.start,c.end,x,null===y||void 0===y?void 0:y.value,null===N||void 0===N?void 0:N.value,null===R||void 0===R?void 0:R.value,null===E||void 0===E?void 0:E.value]),(0,s.useEffect)(()=>{S(null)},[y]);const he=ce,ve=B.paymentMethod||B.status||B.region||B.state||B.origin||B.calculations,xe=(0,s.useMemo)(()=>{var e,t,l,a,s,o,n,r,i,d,c,u,m,h;if(!he)return{totalVendas:0,totalFaturamento:0,b4youRecebeu:0,taxaConversaoPix:0,taxaConversaoCartao:0,taxaConversaoBoleto:0,commissionsReal:{producer:0,coproducer:0,affiliate:0,supplier:0}};const v=he.totalItems||0,x=he.totalSalesPrice||0,p=parseFloat((null===(e=he.conversionRates)||void 0===e||null===(t=e.byMethod)||void 0===t?void 0:t.pix)||"0"),f=parseFloat((null===(l=he.conversionRates)||void 0===l||null===(a=l.byMethod)||void 0===a?void 0:a.card)||"0"),g=parseFloat((null===(s=he.conversionRates)||void 0===s||null===(o=s.byMethod)||void 0===o?void 0:o.billet)||"0");return{totalVendas:v,totalFaturamento:x,b4youRecebeu:he.totalFeeB4you||0,taxaConversaoPix:p,taxaConversaoCartao:f,taxaConversaoBoleto:g,commissionsReal:{producer:(null===(n=he.commissionsByRole)||void 0===n||null===(r=n.producer)||void 0===r?void 0:r.total)||0,coproducer:(null===(i=he.commissionsByRole)||void 0===i||null===(d=i.coproducer)||void 0===d?void 0:d.total)||0,affiliate:(null===(c=he.commissionsByRole)||void 0===c||null===(u=c.affiliate)||void 0===u?void 0:u.total)||0,supplier:(null===(m=he.commissionsByRole)||void 0===m||null===(h=m.supplier)||void 0===h?void 0:h.total)||0}}},[he]),pe=(0,s.useRef)(null),fe=(0,s.useRef)(""),ge=(0,s.useCallback)(e=>{pe.current&&clearTimeout(pe.current);const t=JSON.stringify({sellers:(null===e||void 0===e?void 0:e.totalSalesBySeller)||{},products:(null===e||void 0===e?void 0:e.totalSalesByProduct)||{}});t!==fe.current&&(fe.current=t,pe.current=setTimeout(()=>{try{if(null!==e&&void 0!==e&&e.totalSalesBySeller){const t=Object.entries(e.totalSalesBySeller).map(e=>{let[t,l]=e;return{value:t,label:l.user_name,count:l.total_count}});Z(e=>JSON.stringify(e)===JSON.stringify(t)?e:t)}else Z([]);if(null!==e&&void 0!==e&&e.totalSalesByProduct){const t=Object.entries(e.totalSalesByProduct).map(e=>{let[t,l]=e;return{value:t,label:l.product_name,count:l.total_count}});Y(e=>JSON.stringify(e)===JSON.stringify(t)?e:t)}else Y([])}catch(M){console.error("Erro ao atualizar op\xe7\xf5es:",M)}finally{pe.current=null}},50))},[]);(0,s.useEffect)(()=>{const e=setTimeout(()=>{ge(he)},100);return()=>clearTimeout(e)},[he]),(0,s.useEffect)(()=>()=>{pe.current&&clearTimeout(pe.current),ue.current&&clearTimeout(ue.current),oe.current&&oe.current.abort()},[]);const be=(0,s.useMemo)(()=>{const e=(null===he||void 0===he?void 0:he.stateCounts)||{};return Object.keys(e).filter(e=>e&&"INDEFINIDO"!==e.toUpperCase()).map(t=>{var l,a,s,o;return{value:t,label:"".concat(t," (").concat(null!==(l=null===(a=e[t])||void 0===a?void 0:a.total)&&void 0!==l?l:0,")"),count:null!==(s=null===(o=e[t])||void 0===o?void 0:o.total)&&void 0!==s?s:0}}).sort((e,t)=>t.count-e.count)},[null===he||void 0===he?void 0:he.stateCounts]),je=(0,s.useMemo)(()=>{if(null===y||void 0===y||!y.value)return be;const e=y.value;return be.filter(t=>v[t.value]===e)},[be,null===y||void 0===y?void 0:y.value]);(0,s.useEffect)(()=>{I(je)},[je]),(0,s.useEffect)(()=>{if(N&&null!==y&&void 0!==y&&y.value){v[N.value]===y.value||S(null)}},[null===y||void 0===y?void 0:y.value]);const ye=(0,s.useMemo)(()=>{var e,t,l,a,s,o;if(!he)return[{name:"Nenhum dado dispon\xedvel",value:0}];return[{name:"Cart\xe3o",value:(null===(e=he.salesMethodsCount)||void 0===e||null===(t=e.card)||void 0===t?void 0:t.count)||0},{name:"PIX",value:(null===(l=he.salesMethodsCount)||void 0===l||null===(a=l.pix)||void 0===a?void 0:a.count)||0},{name:"Boleto",value:(null===(s=he.salesMethodsCount)||void 0===s||null===(o=s.billet)||void 0===o?void 0:o.count)||0}].sort((e,t)=>t.value-e.value)},[null===he||void 0===he?void 0:he.salesMethodsCount]),Ce=(0,s.useMemo)(()=>{if(!he)return[{name:p[1],value:0},{name:p[2],value:0},{name:p[3],value:0},{name:p[4],value:0},{name:p[5],value:0},{name:p[6],value:0},{name:p[7],value:0},{name:p[8],value:0}];const e=he.salesByStatus||{};if(Object.keys(e).length>0){return Object.entries(e).map(e=>{let[t,l]=e;return{name:p[t]||t,value:Number(l)||0}}).sort((e,t)=>t.value-e.value)}return[{name:"Nenhum dado dispon\xedvel",value:0}]},[null===he||void 0===he?void 0:he.salesByStatus]),Ne=(e,t)=>{if(!e)return[{name:"Nenhum dado dispon\xedvel",value:0}];const l=Object.entries(e).map(e=>{let[l,a]=e;return{name:"unknown"===l.toLowerCase()?"Indefinido":t?t(l):l,value:Number(a)||0}}).sort((e,t)=>t.value-e.value);return l.length>0?l:[{name:"Nenhum dado dispon\xedvel",value:0}]},Se=(0,s.useMemo)(()=>{var e;return Ne(null===he||void 0===he||null===(e=he.agentStatus)||void 0===e?void 0:e.devices,e=>e.charAt(0).toUpperCase()+e.slice(1))},[null===he||void 0===he||null===(e=he.agentStatus)||void 0===e?void 0:e.devices]),Re=(0,s.useMemo)(()=>{var e;return Ne(null===he||void 0===he||null===(e=he.agentStatus)||void 0===e?void 0:e.browsers)},[null===he||void 0===he||null===(t=he.agentStatus)||void 0===t?void 0:t.browsers]),ke=(0,s.useMemo)(()=>{var e;return Ne(null===he||void 0===he||null===(e=he.agentStatus)||void 0===e?void 0:e.os)},[null===he||void 0===he||null===(l=he.agentStatus)||void 0===l?void 0:l.os]),Ee=(0,s.useMemo)(()=>{var e;return Ne(null===he||void 0===he||null===(e=he.agentStatus)||void 0===e?void 0:e.origins)},[null===he||void 0===he||null===(n=he.agentStatus)||void 0===n?void 0:n.origins]),Ae=(0,s.useMemo)(()=>{if(!he)return[{name:"Nenhum dado dispon\xedvel",value:0}];if(y&&he.stateCounts){const e=Object.entries(he.stateCounts).filter(e=>{let[t]=e;return v[t]===y.value}).map(e=>{let[t,l]=e;return{name:t,value:l.total||0}}).sort((e,t)=>t.value-e.value);return e.length>0?e:[{name:"Nenhum estado encontrado",value:0}]}if(he.regionCounts){const e=Object.entries(he.regionCounts).map(e=>{let[t,l]=e;return{name:t,value:l.total||0}});return e.length>0?e:[{name:"Sudeste",value:0},{name:"Nordeste",value:0},{name:"Sul",value:0},{name:"Centro-Oeste",value:0},{name:"Norte",value:0}]}return[{name:"Nenhum dado dispon\xedvel",value:0}]},[null===he||void 0===he?void 0:he.regionCounts,null===he||void 0===he?void 0:he.stateCounts,null===y||void 0===y?void 0:y.value]),Me=(0,s.useCallback)((e,t,l)=>{if("indefinido"===e.name.toLowerCase())return"#6c757d";const a=t.filter(e=>"indefinido"!==e.name.toLowerCase()),s=a.findIndex(t=>t.name===e.name);return 0===s?"#28a745":s===a.length-1?"#dc3545":"#ffc107"},[]),we=(0,s.useCallback)(e=>{const t=new Date,l=new Date;l.setDate(t.getDate()-(e-1));h([l,t]),u({start:r()(l).format("YYYY-MM-DD"),end:r()(t).format("YYYY-MM-DD")})},[]),Oe=(0,s.useCallback)(e=>{A(e),e||U("")},[]),De=(0,s.useCallback)(e=>{k(e),e||X("")},[]),Pe=(0,s.useCallback)(e=>{j(e||[])},[]),Be=(0,s.useCallback)(e=>{C(e)},[]),Te=(0,s.useCallback)(e=>{S(e)},[]),ze=(0,s.useCallback)(e=>{U(e)},[]),Le=(0,s.useCallback)(e=>{X(e)},[]),Ie=(0,s.useCallback)(e=>{h(e);const[t,l]=e||[];if(!t||!l)return;const a=r()(t).startOf("day"),s=r()(l).endOf("day");if(s.diff(a,"months",!0)>3){const e=r()(a).add(3,"months").subtract(1,"day");return h([a.toDate(),e.toDate()]),void u({start:a.format("YYYY-MM-DD"),end:e.format("YYYY-MM-DD")})}u({start:a.format("YYYY-MM-DD"),end:s.format("YYYY-MM-DD")})},[]),Fe=(0,s.useCallback)(e=>{se(e)},[]),Ye=(0,s.useCallback)(()=>{const e=[["M\xe9trica","Valor"],["Total de Vendas",xe.totalVendas],["Faturamento",(0,d.cC)(xe.totalFaturamento)],["B4You Recebeu",(0,d.cC)(xe.b4youRecebeu)]];var t,l,a,s,o,n;(xe.commissionsReal.producer>0&&e.push(["Produtor Recebeu",(0,d.cC)(xe.commissionsReal.producer)]),xe.commissionsReal.coproducer>0&&e.push(["Coprodutor Recebeu",(0,d.cC)(xe.commissionsReal.coproducer)]),xe.commissionsReal.affiliate>0&&e.push(["Afiliado Recebeu",(0,d.cC)(xe.commissionsReal.affiliate)]),xe.commissionsReal.supplier>0&&e.push(["Fornecedor Recebeu",(0,d.cC)(xe.commissionsReal.supplier)]),e.push([""]),e.push(["Taxas de Convers\xe3o"]),e.push(["M\xe9todo","Taxa (%)"]),e.push(["PIX",xe.taxaConversaoPix]),e.push(["Cart\xe3o",xe.taxaConversaoCartao]),e.push(["Boleto",xe.taxaConversaoBoleto]),e.push([""]),e.push(["Convers\xe3o por M\xe9todo"]),e.push(["Nome","Valor"]),ye.forEach(t=>e.push([t.name,t.value])),e.push([""]),e.push(["Convers\xe3o por Status"]),e.push(["Nome","Valor"]),Ce.forEach(t=>e.push([t.name,t.value])),e.push([""]),e.push(["Convers\xe3o por Dispositivo"]),e.push(["Nome","Valor"]),Se.forEach(t=>e.push([t.name,t.value])),e.push([""]),e.push(["Convers\xe3o por Navegador"]),e.push(["Nome","Valor"]),Re.forEach(t=>e.push([t.name,t.value])),e.push([""]),e.push(["Convers\xe3o por Sistema Operacional"]),e.push(["Nome","Valor"]),ke.forEach(t=>e.push([t.name,t.value])),e.push([""]),e.push(["Convers\xe3o por Origem"]),e.push(["Nome","Valor"]),Ee.forEach(t=>e.push([t.name,t.value])),he)&&(e.push([""]),e.push(["Resumo dos Dados"]),e.push(["M\xe9trica","Valor"]),e.push(["Total de Itens",he.totalItems]),e.push(["Total de Vendas (R$)",(0,d.cC)(he.totalSalesPrice)]),e.push(["Taxa Convers\xe3o PIX (%)",(null===(t=he.conversionRates)||void 0===t||null===(l=t.byMethod)||void 0===l?void 0:l.pix)||"0"]),e.push(["Taxa Convers\xe3o Cart\xe3o (%)",(null===(a=he.conversionRates)||void 0===a||null===(s=a.byMethod)||void 0===s?void 0:s.card)||"0"]),e.push(["Taxa Convers\xe3o Boleto (%)",(null===(o=he.conversionRates)||void 0===o||null===(n=o.byMethod)||void 0===n?void 0:n.billet)||"0"]));const r=e.map(e=>e.join(";")).join("\n"),i=new Blob([r],{type:"text/csv;charset=utf-8;"}),u="checkout-analytics_".concat(c.start,"_a_").concat(c.end,".csv");(0,d.y5)(i,u)},[xe,ye,Ce,Se,Re,ke,Ee,he,c.start,c.end]);return M?(0,f.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:320},children:(0,f.jsxs)("div",{className:"text-center",children:[(0,f.jsx)(o.c5,{className:"text-danger mb-2",children:M}),(0,f.jsx)(o.$n,{color:"primary",onClick:de,children:"Tentar novamente"})]})}):(0,f.jsxs)("div",{className:"checkout-analytics container-xxl",children:[(0,f.jsx)(g,{calendar:m,selectedSeller:E,selectedProductFilter:R,selectedOptions:x,selectedRegion:y,selectedState:N,stateOptions:L,filteredSellerOptions:ne,filteredProductOptions:ie,sellerSearchTerm:K,productSearchTerm:$,isProductSearching:V,isSellerLoading:B.seller,isProductLoading:B.product,onDateChange:Ie,onSellerChange:Oe,onProductChange:De,onStatusChange:Pe,onRegionChange:Be,onStateChange:Te,onSellerInputChange:ze,onProductInputChange:Le,onExportCsv:Ye,setQuickRange:we}),(ve||he)&&(0,f.jsx)(b,{summary:xe,apiData:he,loadingState:{paymentMethod:B.paymentMethod,calculations:B.calculations}}),(ve||he)&&(0,f.jsx)(T,{byMethod:ye,byStatus:Ce,byDevice:Se,byBrowser:Re,byOS:ke,byOrigin:Ee,byRegion:Ae,deviceLevel:ae,selectedRegion:y,onDeviceLevelChange:Fe,getBarColor:Me,loadingState:{paymentMethod:B.paymentMethod,status:B.status,region:B.region||B.state,origin:B.origin}})]})}},94300:()=>{}}]);