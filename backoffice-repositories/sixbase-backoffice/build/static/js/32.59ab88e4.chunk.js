"use strict";(self.webpackChunksixbase_backoffice=self.webpackChunksixbase_backoffice||[]).push([[32],{56065:(e,a,n)=>{n.d(a,{A:()=>l});var t=n(9950),o=n(5393),r=n.n(o);function s(){return s=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},s.apply(this,arguments)}function c(e,a){if(null==e)return{};var n,t,o=function(e,a){if(null==e)return{};var n,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var i=(0,t.forwardRef)(function(e,a){var n=e.color,o=void 0===n?"currentColor":n,r=e.size,i=void 0===r?24:r,l=c(e,["color","size"]);return t.createElement("svg",s({ref:a,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),t.createElement("path",{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"}))});i.propTypes={color:r().string,size:r().oneOfType([r().string,r().number])},i.displayName="ThumbsUp";const l=i},60032:(e,a,n)=>{n.r(a),n.d(a,{default:()=>j});var t=n(89379),o=n(13955),r=n(11749),s=n(9950),c=n(30639),i=n(60820),l=n(56065),d=n(24113),h=n(12449),p=n(35203),u=n(45530),g=n(13467),m=n(44414);const x=(0,r.A)((e,a)=>[{name:"ID",cell:e=>e.id,width:"100px"},{name:"Usu\xe1rio",width:"300px",cell:e=>(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{children:e.full_name}),(0,m.jsx)("div",{children:e.email}),(0,m.jsx)("div",{children:e.bank_account.document})]})},{name:"Valor",cell:e=>(0,o.cC)(e.amount)},{name:"Banco",cell:e=>e.bank_account.code},{name:"Agencia",cell:e=>e.bank_account.agency},{name:"Conta",cell:e=>e.bank_account.number},{name:"Solicitado em",cell:e=>e.created_at},{name:"A\xe7\xf5es",center:!0,cell:n=>(0,m.jsxs)("div",{className:"w-100 d-flex justify-content-around",children:[(0,m.jsx)(p.$n,{size:"sm",color:"light",onClick:()=>a(n.id),children:(0,m.jsx)(l.A,{color:"green",size:"14"})}),(0,m.jsx)(p.$n,{size:"sm",color:"light",onClick:()=>e(n.id,0),children:(0,m.jsx)(i.A,{color:"red",size:"14"})})]})}]),w=(0,r.A)(()=>[{name:"ID",cell:e=>e.id,width:"100px"},{name:"Usu\xe1rio",width:"300px",cell:e=>(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{children:e.full_name}),(0,m.jsx)("div",{children:e.email}),(0,m.jsx)("div",{children:e.bank_account.document})]})},{name:"Valor",cell:e=>(0,o.cC)(e.amount)},{name:"Banco",cell:e=>e.bank_account.code},{name:"Agencia",cell:e=>e.bank_account.agency},{name:"Conta",cell:e=>e.bank_account.number},{name:"Solicitado em",cell:e=>e.created_at},{name:"Atualizado em",cell:e=>e.updated_at}]),j=()=>{const{skin:e}=(0,g.h)(),[a,n]=(0,s.useState)([]),[o,r]=(0,s.useState)([]),[i,l]=(0,s.useState)([]),[j,f]=(0,s.useState)(0),[v,b]=(0,s.useState)(0),[y,k]=(0,s.useState)(0),[P,S]=(0,s.useState)(10),[C,O]=(0,s.useState)(0),[z,A]=(0,s.useState)(0),[E,R]=(0,s.useState)(0),[N,T]=(0,s.useState)(!1),[L,_]=(0,s.useState)("1"),[I,U]=(0,s.useState)(!1),[D,F]=(0,s.useState)(null),{control:V,watch:B}=(0,d.mN)({mode:"onChange",defaultValues:{withdrawals:"manual"}}),q=B("withdrawals"),$=async()=>{T(!0);try{const e=new URLSearchParams;e.append("page",C),e.append("size",P);const a=await u.F.get("/withdrawals?".concat(e.toString()));f(a.data.count),n(a.data.rows)}catch(e){console.log(e)}T(!1)},H=async()=>{T(!0);try{const e=new URLSearchParams;e.append("page",E),e.append("size",P);const a=await u.F.get("/withdrawals/approved?".concat(e.toString()));b(a.data.count),r(a.data.rows)}catch(e){console.log(e)}T(!1)},J=async()=>{T(!0);try{const e=new URLSearchParams;e.append("page",z),e.append("size",P);const a=await u.F.get("/withdrawals/denied?".concat(e.toString()));k(a.data.count),l(a.data.rows)}catch(e){console.log(e)}T(!1)},M=async e=>{S(e)},W=()=>{U(!I)},Z={position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0},G=async function(e,a){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{await u.F.post("/withdrawals/".concat(e),{status:a,type:n}),await $(),await H(),await J(),h.oR.success("Salvo com sucesso",Z)}catch(t){console.log(t),h.oR.error("Erro ao atualizar...",Z)}};return(0,s.useEffect)(()=>{$()},[P,C]),(0,s.useEffect)(()=>{H()},[P,E]),(0,s.useEffect)(()=>{J()},[P,z]),(0,m.jsxs)("section",{id:"Withdrawals",children:[(0,m.jsx)("h2",{className:"mb-2",children:"Saques"}),(0,m.jsx)("div",{className:"d-flex justify-content-end mb-2 mt-2",children:(0,m.jsxs)(p.$n,{color:"primary",onClick:()=>{const e="1"===L?"pendente.xlsx":"2"===L?"aprovados.xlsx":"negados.xlsx";h.oR.success("Exportando... Essa opera\xe7\xe3o pode demorar",Z),u.F.get("/withdrawals/export?active=".concat(L),{responseType:"blob"}).then(a=>{const n=window.URL.createObjectURL(new Blob([a.data])),t=document.createElement("a");t.href=n,t.setAttribute("download",e),document.body.appendChild(t),t.click(),h.oR.success("Exportado com sucesso",Z)}).catch(e=>console.error(e))},children:["Exportar"," ","1"===L?"(PENDENTES)":"2"===L?"(APROVADOS)":"(NEGADOS)"]})}),(0,m.jsxs)(p.so,{tabs:!0,children:[(0,m.jsx)(p.CI,{children:(0,m.jsx)(p.k2,{href:"#",active:"1"===L,onClick:()=>{_("1")},children:"Pendentes"})}),(0,m.jsx)(p.CI,{children:(0,m.jsx)(p.k2,{href:"#",active:"2"===L,onClick:()=>{_("2")},children:"Aprovados"})}),(0,m.jsx)(p.CI,{children:(0,m.jsx)(p.k2,{href:"#",active:"3"===L,onClick:()=>{_("3")},children:"Negados"})})]}),(0,m.jsxs)(p.JS,{activeTab:L,children:[(0,m.jsx)(p.mF,{tabId:"1",children:(0,m.jsx)(p.Zp,{children:(0,m.jsx)(p.bw,{children:(0,m.jsx)(c.Ay,{columns:x(G,e=>{F(e),W()}),data:a,progressPending:N,pagination:!0,paginationServer:!0,paginationTotalRows:j,onChangeRowsPerPage:M,onChangePage:e=>{O(e-1)},noDataComponent:"N\xe3o existem saques pendentes",paginationComponentOptions:{rowsPerPageText:"Linhas por p\xe1gina:",rangeSeparatorText:"de",noRowsPerPage:!1},theme:"dark"===e?"solarized":"solarizedLight"})})})}),(0,m.jsx)(p.mF,{tabId:"2",children:(0,m.jsx)(p.Zp,{children:(0,m.jsx)(p.bw,{children:(0,m.jsx)(c.Ay,{columns:w(),data:o,progressPending:N,pagination:!0,paginationServer:!0,paginationTotalRows:v,onChangeRowsPerPage:M,onChangePage:e=>{R(e-1)},noDataComponent:"N\xe3o existem saques aprovados",paginationComponentOptions:{rowsPerPageText:"Linhas por p\xe1gina:",rangeSeparatorText:"de",noRowsPerPage:!1},theme:"dark"===e?"solarized":"solarizedLight"})})})}),(0,m.jsx)(p.mF,{tabId:"3",children:(0,m.jsx)(p.Zp,{children:(0,m.jsx)(p.bw,{children:(0,m.jsx)(c.Ay,{columns:w(),data:i,progressPending:N,pagination:!0,paginationServer:!0,paginationTotalRows:y,onChangeRowsPerPage:M,onChangePage:e=>{A(e-1)},noDataComponent:"N\xe3o existem saques negados",paginationComponentOptions:{rowsPerPageText:"Linhas por p\xe1gina:",rangeSeparatorText:"de",noRowsPerPage:!1},theme:"dark"===e?"solarized":"solarizedLight"})})})})]}),I&&(0,m.jsxs)(p.aF,{isOpen:I,toggle:W,centered:!0,size:"lg",children:[(0,m.jsx)(p.rQ,{toggle:W,children:"Esse saque ser\xe1 feito manualmente ou via Pagar.me?"}),(0,m.jsx)(p.cw,{children:(0,m.jsxs)("div",{className:"mb-1",children:[(0,m.jsx)(p.JU,{children:"Selecione:"}),(0,m.jsx)(d.xI,{name:"withdrawals",control:V,render:e=>{let{field:a}=e;return(0,m.jsxs)("div",{className:"flex flex-column",children:[(0,m.jsxs)(p.gE,{check:!0,inline:!0,className:"mt-1 mb-1",children:[(0,m.jsx)(p.pd,(0,t.A)((0,t.A)({},a),{},{type:"radio",id:"manual",value:"manual",checked:"manual"===a.value})),(0,m.jsx)(p.JU,{check:!0,for:"manual",children:"Manualmente"})]}),(0,m.jsxs)(p.gE,{check:!0,inline:!0,children:[(0,m.jsx)(p.pd,(0,t.A)((0,t.A)({},a),{},{type:"radio",id:"pagarme",value:"pagarme",checked:"pagarme"===a.value})),(0,m.jsx)(p.JU,{check:!0,for:"pagarme",children:"Via Pagar.me"})]})]})}})]})}),(0,m.jsx)(p.jl,{children:(0,m.jsx)("div",{className:"d-flex justify-content-between w-100",children:(0,m.jsxs)("div",{className:"d-flex gap-2",children:[(0,m.jsx)(p.$n,{color:"secondary",onClick:W,children:"Cancelar"}),(0,m.jsx)(p.$n,{color:"primary",onClick:()=>{G(D,1,q),W()},children:"Confirmar"})]})})})]})]})}},60820:(e,a,n)=>{n.d(a,{A:()=>l});var t=n(9950),o=n(5393),r=n.n(o);function s(){return s=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},s.apply(this,arguments)}function c(e,a){if(null==e)return{};var n,t,o=function(e,a){if(null==e)return{};var n,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var i=(0,t.forwardRef)(function(e,a){var n=e.color,o=void 0===n?"currentColor":n,r=e.size,i=void 0===r?24:r,l=c(e,["color","size"]);return t.createElement("svg",s({ref:a,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),t.createElement("path",{d:"M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"}))});i.propTypes={color:r().string,size:r().oneOfType([r().string,r().number])},i.displayName="ThumbsDown";const l=i}}]);