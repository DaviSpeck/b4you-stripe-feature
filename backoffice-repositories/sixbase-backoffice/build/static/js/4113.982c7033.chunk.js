"use strict";(self.webpackChunksixbase_backoffice=self.webpackChunksixbase_backoffice||[]).push([[4113],{24113:(e,t,s)=>{s.d(t,{FH:()=>Fe,Gb:()=>T,Jt:()=>f,hZ:()=>L,mN:()=>Se,xI:()=>U});var r=s(9950),n=e=>"checkbox"===e.type,a=e=>e instanceof Date,i=e=>null==e;const o=e=>"object"===typeof e;var l=e=>!i(e)&&!Array.isArray(e)&&o(e)&&!a(e),u=(e,t)=>[...e].some(e=>(e=>e.substring(0,e.search(/.\d/))||e)(t)===e),c=e=>e.filter(Boolean),d=e=>void 0===e,f=(e,t,s)=>{if(l(e)&&t){const r=c(t.split(/[,[\].]+?/)).reduce((e,t)=>i(e)?e:e[t],e);return d(r)||r===e?d(e[t])?s:e[t]:r}};const g={BLUR:"blur",CHANGE:"change"},m={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},b="max",y="min",h="maxLength",v="minLength",p="pattern",_="required",j="validate";var O=(e,t)=>{const s=Object.assign({},e);return delete s[t],s};const V=r.createContext(null),w=()=>r.useContext(V);var S=function(e,t,s){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];function n(n){return()=>{if(n in e)return t[n]!==m.all&&(t[n]=!r||m.all),s&&(s[n]=!0),e[n]}}const a={};for(const i in e)Object.defineProperty(a,i,{get:n(i)});return a},F=e=>l(e)&&!Object.keys(e).length,A=(e,t,s)=>{const r=O(e,"name");return F(r)||Object.keys(r).length>=Object.keys(t).length||Object.keys(r).find(e=>t[e]===(!s||m.all))},k=e=>Array.isArray(e)?e:[e],x=(e,t)=>!e||!t||k(e).some(e=>e&&(e.startsWith(t)||t.startsWith(e)));const D=e=>{e.current&&(e.current.unsubscribe(),e.current=void 0)},C=e=>{let{_unsubscribe:t,props:s}=e;return()=>{s.disabled?D(t):t.current||(t.current=s.subject.subscribe({next:s.callback}))}};function E(e){const t=r.useRef(),s=r.useRef(()=>{});s.current=C({_unsubscribe:t,props:e}),!e.skipEarlySubscription&&s.current(),r.useEffect(()=>(s.current(),()=>D(t)),[])}function B(e){const t=w(),{name:s,control:a=t.control,shouldUnregister:i}=e,[o,c]=r.useState(f(a._formValues,s,f(a._defaultValues,s,e.defaultValue))),d=function(e){const t=w(),{control:s=t.control,disabled:n,name:a}=e||{},[i,o]=r.useState(s._formState),l=r.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=r.useRef(a);return u.current=a,E({disabled:n,callback:e=>x(u.current,e.name)&&A(e,l.current)&&o(Object.assign(Object.assign({},s._formState),e)),subject:s._subjects.state,skipEarlySubscription:!0}),S(i,s._proxyFormState,l.current,!1)}({control:a||t.control,name:s}),m=r.useRef(s);m.current=s,E({subject:a._subjects.control,callback:e=>(!e.name||m.current===e.name)&&c(f(e.values,m.current)),skipEarlySubscription:!0});const b=a.register(s,Object.assign(Object.assign({},e.rules),{value:o})),y=r.useCallback((e,t)=>{const s=f(a._fields,e);s&&(s._f.mount=t)},[a]);return r.useEffect(()=>(y(s,!0),()=>{const e=a._options.shouldUnregister||i;(u(a._names.array,s)?e&&!a._stateFlags.action:e)?a.unregister(s):y(s,!1)}),[s,a,i,y]),{field:{onChange:e=>{const t=(e=>l(e)&&e.target?n(e.target)?e.target.checked:e.target.value:e)(e);c(t),b.onChange({target:{value:t,name:s},type:g.CHANGE})},onBlur:()=>{b.onBlur({target:{value:o,name:s},type:g.BLUR})},name:s,value:o,ref:e=>{const t=f(a._fields,s);e&&t&&e.focus&&(t._f.ref={focus:()=>e.focus(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}},formState:d,fieldState:{invalid:!!f(d.errors,s),isDirty:!!f(d.dirtyFields,s),isTouched:!!f(d.touchedFields,s),error:f(d.errors,s)}}}const U=e=>e.render(B(e));var T=(e,t,s,r,n)=>t?Object.assign(Object.assign({},s[e]),{types:Object.assign(Object.assign({},s[e]&&s[e].types?s[e].types:{}),{[r]:n||!0})}):{},N=e=>/^\w*$/.test(e),M=e=>c(e.replace(/["|']|\]/g,"").split(/\.|\[/));function L(e,t,s){let r=-1;const n=N(t)?[t]:M(t),a=n.length,i=a-1;for(;++r<a;){const t=n[r];let a=s;if(r!==i){const s=e[t];a=l(s)||Array.isArray(s)?s:isNaN(+n[r+1])?{}:[]}e[t]=a,e=e[t]}return e}const R=(e,t,s)=>{for(const r of s||Object.keys(e)){const s=f(e,r);if(s){const e=s._f,r=O(s,"_f");if(e&&t(e.name)){if(e.ref.focus&&d(e.ref.focus()))break;if(e.refs){e.refs[0].focus();break}}else l(r)&&R(r,t)}}};var q=e=>"function"===typeof e;function H(e){let t;const s=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(!s&&!l(e))return e;t=s?[]:{};for(const s in e){if(q(e[s])){t=e;break}t[s]=H(e[s])}}return t}function W(){let e=[];return{get observers(){return e},next:t=>{for(const s of e)s.next(t)},subscribe:t=>{const s=function(){let e=[];return{add:t=>{e.push(t)},unsubscribe:()=>{for(const t of e)t();e=[]}}}(),r=function(e,t){let s=!1;return t.add(()=>s=!0),{next:t=>{s||e.next(t)}}}(t,s);return e.push(r),s},unsubscribe:()=>{e=[]}}}var I=e=>i(e)||!o(e);function G(e,t){if(I(e)||I(t))return e===t;if(a(e)&&a(t))return e.getTime()===t.getTime();const s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(const n of s){const s=e[n];if(!r.includes(n))return!1;if("ref"!==n){const e=t[n];if(a(s)&&a(e)||l(s)&&l(e)||Array.isArray(s)&&Array.isArray(e)?!G(s,e):s!==e)return!1}}return!0}var P=e=>({isOnSubmit:!e||e===m.onSubmit,isOnBlur:e===m.onBlur,isOnChange:e===m.onChange,isOnAll:e===m.all,isOnTouch:e===m.onTouched}),J=e=>"boolean"===typeof e,Z=e=>"file"===e.type,$=e=>e instanceof HTMLElement,z=e=>"select-multiple"===e.type,K=e=>"radio"===e.type,Q=e=>K(e)||n(e),X=e=>"string"===typeof e,Y="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document,ee=e=>$(e)&&document.contains(e);function te(e,t){const s=N(t)?[t]:M(t),r=1==s.length?e:function(e,t){const s=t.slice(0,-1).length;let r=0;for(;r<s;)e=d(e)?r++:e[t[r++]];return e}(e,s),n=s[s.length-1];let a;r&&delete r[n];for(let i=0;i<s.slice(0,-1).length;i++){let t,r=-1;const n=s.slice(0,-(i+1)),o=n.length-1;for(i>0&&(a=e);++r<n.length;){const s=n[r];t=t?t[s]:e[s],o===r&&(l(t)&&F(t)||Array.isArray(t)&&!t.filter(e=>l(e)&&!F(e)||J(e)).length)&&(a?delete a[s]:delete e[s]),a=t}}return e}const se={value:!1,isValid:!1},re={value:!0,isValid:!0};var ne=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!d(e[0].attributes.value)?d(e[0].value)||""===e[0].value?re:{value:e[0].value,isValid:!0}:re:se}return se},ae=(e,t)=>{let{valueAsNumber:s,valueAsDate:r,setValueAs:n}=t;return d(e)?e:s?""===e?NaN:+e:r?new Date(e):n?n(e):e};const ie={isValid:!1,value:null};var oe=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,ie):ie;function le(e){const t=e.ref;if(!(e.refs?e.refs.every(e=>e.disabled):t.disabled))return Z(t)?t.files:K(t)?oe(e.refs).value:z(t)?[...t.selectedOptions].map(e=>{let{value:t}=e;return t}):n(t)?ne(e.refs).value:ae(d(t.value)?e.ref.value:t.value,e)}var ue=(e,t,s,r)=>{const n={};for(const a of e){const e=f(t,a);e&&L(n,a,e._f)}return{criteriaMode:s,names:[...e],fields:n,shouldUseNativeValidation:r}},ce=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function de(e,t,s){const r=f(e,s);if(r||N(s))return{error:r,name:s};const n=s.split(".");for(;n.length;){const r=n.join("."),a=f(t,r),i=f(e,r);if(a&&!Array.isArray(a)&&s!==r)return{name:s};if(i&&i.type)return{name:r,error:i};n.pop()}return{name:s}}function fe(e,t){if(I(e)||I(t))return t;for(const r in t){const n=e[r],a=t[r];try{e[r]=l(n)&&l(a)||Array.isArray(n)&&Array.isArray(a)?fe(n,a):a}catch(s){}}return e}function ge(e,t,s,r,n){let a=-1;for(;++a<e.length;){for(const r in e[a])Array.isArray(e[a][r])?(!s[a]&&(s[a]={}),s[a][r]=[],ge(e[a][r],f(t[a]||{},r,[]),s[a][r],s[a],r)):!i(t)&&G(f(t[a]||{},r),e[a][r])?L(s[a]||{},r):s[a]=Object.assign(Object.assign({},s[a]),{[r]:!0});r&&!s.length&&delete r[n]}return s}var me=(e,t,s)=>fe(ge(e,t,s.slice(0,e.length)),ge(t,e,s.slice(0,e.length))),be=(e,t,s,r,n)=>!n.isOnAll&&(!s&&n.isOnTouch?!(t||e):(s?r.isOnBlur:n.isOnBlur)?!e:!(s?r.isOnChange:n.isOnChange)||e),ye=(e,t)=>!c(f(e,t,[])).length&&te(e,t),he=e=>X(e)||r.isValidElement(e),ve=e=>e instanceof RegExp;function pe(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(he(e)||Array.isArray(e)&&e.every(he)||J(e)&&!e)return{type:s,message:he(e)?e:"",ref:t}}var _e=e=>l(e)&&!ve(e)?e:{value:e,message:""},je=async(e,t,s,r)=>{const{ref:a,refs:o,required:u,maxLength:c,minLength:d,min:f,max:g,pattern:m,validate:O,name:V,valueAsNumber:w,mount:S,disabled:A}=e._f;if(!S||A)return{};const k=o?o[0]:a,x=e=>{r&&k.reportValidity&&(k.setCustomValidity(J(e)?"":e||" "),k.reportValidity())},D={},C=K(a),E=n(a),B=C||E,U=(w||Z(a))&&!a.value||""===t||Array.isArray(t)&&!t.length,N=T.bind(null,V,s,D),M=function(e,t,s){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:h,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:v;const i=e?t:s;D[V]=Object.assign({type:e?r:n,message:i,ref:a},N(e?r:n,i))};if(u&&(!B&&(U||i(t))||J(t)&&!t||E&&!ne(o).isValid||C&&!oe(o).isValid)){const{value:e,message:t}=he(u)?{value:!!u,message:u}:_e(u);if(e&&(D[V]=Object.assign({type:_,message:t,ref:k},N(_,t)),!s))return x(t),D}if(!U&&(!i(f)||!i(g))){let e,r;const n=_e(g),o=_e(f);if(isNaN(t)){const s=a.valueAsDate||new Date(t);X(n.value)&&(e=s>new Date(n.value)),X(o.value)&&(r=s<new Date(o.value))}else{const s=a.valueAsNumber||parseFloat(t);i(n.value)||(e=s>n.value),i(o.value)||(r=s<o.value)}if((e||r)&&(M(!!e,n.message,o.message,b,y),!s))return x(D[V].message),D}if((c||d)&&!U&&X(t)){const e=_e(c),r=_e(d),n=!i(e.value)&&t.length>e.value,a=!i(r.value)&&t.length<r.value;if((n||a)&&(M(n,e.message,r.message),!s))return x(D[V].message),D}if(m&&!U&&X(t)){const{value:e,message:r}=_e(m);if(ve(e)&&!t.match(e)&&(D[V]=Object.assign({type:p,message:r,ref:a},N(p,r)),!s))return x(r),D}if(O)if(q(O)){const e=pe(await O(t),k);if(e&&(D[V]=Object.assign(Object.assign({},e),N(j,e.message)),!s))return x(e.message),D}else if(l(O)){let e={};for(const r in O){if(!F(e)&&!s)break;const n=pe(await O[r](t),k,r);n&&(e=Object.assign(Object.assign({},n),N(r,n.message)),x(n.message),s&&(D[V]=e))}if(!F(e)&&(D[V]=Object.assign({ref:k},e),!s))return D}return x(!0),D};const Oe={mode:m.onSubmit,reValidateMode:m.onChange,shouldFocusError:!0},Ve="undefined"===typeof window;function we(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=Object.assign(Object.assign({},Oe),t),r={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},o={},l=s.defaultValues||{},b=s.shouldUnregister?{}:H(l),y={action:!1,mount:!1,watch:!1},h={mount:new Set,unMount:new Set,array:new Set,watch:new Set},v=0,p={};const _={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},j={watch:W(),control:W(),array:W(),state:W()},V=P(s.mode),w=P(s.reValidateMode),S=s.criteriaMode===m.all,A=(e,t)=>!t&&(h.watchAll||h.watch.has(e)||h.watch.has((e.match(/\w+/)||[])[0])),x=async e=>{let t=!1;return _.isValid&&(t=s.resolver?F((await T()).errors):await N(o,!0),e||t===r.isValid||(r.isValid=t,j.state.next({isValid:t}))),t},D=(e,t)=>(L(r.errors,e,t),j.state.next({errors:r.errors})),C=(e,t,s)=>{const r=f(o,e);if(r){const n=f(b,e,f(l,e));d(n)||s&&s.defaultChecked||t?L(b,e,t?n:le(r._f)):se(e,n)}y.mount&&x()},E=function(e,t,s){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!1;const i={name:e},o=f(r.touchedFields,e);if(_.isDirty){const e=r.isDirty;r.isDirty=i.isDirty=M(),a=e!==i.isDirty}if(_.dirtyFields&&!s){const s=f(r.dirtyFields,e);G(f(l,e),t)?te(r.dirtyFields,e):L(r.dirtyFields,e,!0),i.dirtyFields=r.dirtyFields,a=a||s!==f(r.dirtyFields,e)}return s&&!o&&(L(r.touchedFields,e,s),i.touchedFields=r.touchedFields,a=a||_.touchedFields&&o!==s),a&&n&&j.state.next(i),a?i:{}},B=(e,t)=>(L(r.dirtyFields,e,me(t,f(l,e,[]),f(r.dirtyFields,e,[]))),ye(r.dirtyFields,e)),U=async(s,n,a,i,o)=>{const l=f(r.errors,n),u=_.isValid&&r.isValid!==a;var c,d;if(t.delayError&&i?(e=e||(c=D,d=t.delayError,function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];clearTimeout(v),v=window.setTimeout(()=>c(...t),d)}),e(n,i)):(clearTimeout(v),i?L(r.errors,n,i):te(r.errors,n)),((i?!G(l,i):l)||!F(o)||u)&&!s){const e=Object.assign(Object.assign(Object.assign({},o),u?{isValid:a}:{}),{errors:r.errors,name:n});r=Object.assign(Object.assign({},r),e),j.state.next(e)}p[n]--,_.isValidating&&!p[n]&&(j.state.next({isValidating:!1}),p={})},T=async e=>s.resolver?await s.resolver(Object.assign({},b),s.context,ue(e||h.mount,o,s.criteriaMode,s.shouldUseNativeValidation)):{},N=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const a in e){const i=e[a];if(i){const e=i._f,a=O(i,"_f");if(e){const a=await je(i,f(b,e.name),S,s.shouldUseNativeValidation);if(a[e.name]&&(n.valid=!1,t))break;t||(a[e.name]?L(r.errors,e.name,a[e.name]):te(r.errors,e.name))}a&&await N(a,t,n)}}return n.valid},M=(e,t)=>(e&&t&&L(b,e,t),!G(oe(),l)),K=(e,t,s)=>{const r=Object.assign({},y.mount?b:d(t)?l:X(e)?{[e]:t}:t);if(e){const t=k(e).map(e=>(s&&h.watch.add(e),f(r,e)));return Array.isArray(e)?t:t[0]}return s&&(h.watchAll=!0),r},se=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;const a=f(o,e);let l=t;if(a){const s=a._f;s&&(L(b,e,ae(t,s)),l=Y&&$(s.ref)&&i(t)?"":t,Z(s.ref)&&!X(l)?s.ref.files=l:z(s.ref)?[...s.ref.options].forEach(e=>e.selected=l.includes(e.value)):s.refs?n(s.ref)?s.refs.length>1?s.refs.forEach(e=>e.checked=Array.isArray(l)?!!l.find(t=>t===e.value):l===e.value):s.refs[0].checked=!!l:s.refs.forEach(e=>e.checked=e.value===l):s.ref.value=l,r&&j.control.next({values:b,name:e}))}(s.shouldDirty||s.shouldTouch)&&E(e,l,s.shouldTouch),s.shouldValidate&&ie(e)},re=(e,t,s)=>{for(const r in t){const n=t[r],i="".concat(e,".").concat(r),l=f(o,i);!h.array.has(e)&&I(n)&&(!l||l._f)||a(n)?se(i,n,s,!0):re(i,n,s)}},ne=async e=>{const t=e.target;let n=t.name;const a=f(o,n);if(a){let i,l;const u=t.type?le(a._f):t.value,c=e.type===g.BLUR,d=!ce(a._f)&&!s.resolver&&!f(r.errors,n)&&!a._f.deps||be(c,f(r.touchedFields,n),r.isSubmitted,w,V),m=A(n,c);c?a._f.onBlur&&a._f.onBlur(e):a._f.onChange&&a._f.onChange(e),L(b,n,u);const y=E(n,u,c,!1),h=!F(y)||m;if(!c&&j.watch.next({name:n,type:e.type}),d)return h&&j.state.next(Object.assign({name:n},m?{}:y));if(!c&&m&&j.state.next({}),p[n]=(p[n],1),_.isValidating&&j.state.next({isValidating:!0}),s.resolver){const{errors:e}=await T([n]),t=de(r.errors,o,n),s=de(e,o,t.name||n);i=s.error,n=s.name,l=F(e)}else i=(await je(a,f(b,n),S,s.shouldUseNativeValidation))[n],l=await x(!0);a._f.deps&&ie(a._f.deps),U(!1,n,l,i,y)}},ie=async function(e){let t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=k(e);if(j.state.next({isValidating:!0}),s.resolver){const s=await(async e=>{const{errors:t}=await T();if(e)for(const s of e){const e=f(t,s);e?L(r.errors,s,e):te(r.errors,s)}else r.errors=t;return t})(d(e)?e:i);t=F(s),n=e?!i.some(e=>f(s,e)):t}else e?(n=(await Promise.all(i.map(async e=>{const t=f(o,e);return await N(t&&t._f?{[e]:t}:t)}))).every(Boolean),x()):n=t=await N(o);return j.state.next(Object.assign(Object.assign(Object.assign({},!X(e)||_.isValid&&t!==r.isValid?{}:{name:e}),s.resolver?{isValid:t}:{}),{errors:r.errors,isValidating:!1})),a.shouldFocus&&!n&&R(o,e=>f(r.errors,e),e?i:h.mount),n},oe=e=>{const t=Object.assign(Object.assign({},l),y.mount?b:{});return d(e)?t:X(e)?f(t,e):e.map(e=>f(t,e))},fe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const n of e?k(e):h.mount)h.mount.delete(n),h.array.delete(n),f(o,n)&&(t.keepValue||(te(o,n),te(b,n)),!t.keepError&&te(r.errors,n),!t.keepDirty&&te(r.dirtyFields,n),!t.keepTouched&&te(r.touchedFields,n),!s.shouldUnregister&&!t.keepDefaultValue&&te(l,n));j.watch.next({}),j.state.next(Object.assign(Object.assign({},r),t.keepDirty?{isDirty:M()}:{})),!t.keepIsValid&&x()},ge=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=f(o,e);return L(o,e,{_f:Object.assign(Object.assign(Object.assign({},r&&r._f?r._f:{ref:{name:e}}),{name:e,mount:!0}),t)}),h.mount.add(e),!d(t.value)&&L(b,e,t.value),r?J(t.disabled)&&L(b,e,t.disabled?void 0:f(b,e,le(r._f))):C(e,!0),Ve?{name:e}:Object.assign(Object.assign({name:e},J(t.disabled)?{disabled:t.disabled}:{}),{onChange:ne,onBlur:ne,ref:r=>{if(r){ge(e,t);let s=f(o,e);const n=d(r.value)&&r.querySelectorAll&&r.querySelectorAll("input,select,textarea")[0]||r,a=Q(n);if(n===s._f.ref||a&&c(s._f.refs||[]).find(e=>e===n))return;s={_f:a?Object.assign(Object.assign({},s._f),{refs:[...c(s._f.refs||[]).filter(ee),n],ref:{type:n.type,name:e}}):Object.assign(Object.assign({},s._f),{ref:n})},L(o,e,s),(!t||!t.disabled)&&C(e,!1,n)}else{const r=f(o,e,{}),n=s.shouldUnregister||t.shouldUnregister;r._f&&(r._f.mount=!1),n&&(!u(h.array,e)||!y.action)&&h.unMount.add(e)}}})};return{control:{register:ge,unregister:fe,_executeSchema:T,_getWatch:K,_getDirty:M,_updateValid:x,_removeUnmounted:()=>{for(const e of h.unMount){const t=f(o,e);t&&(t._f.refs?t._f.refs.every(e=>!ee(e)):!ee(t._f.ref))&&fe(e)}h.unMount=new Set},_updateFieldArray:function(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(y.action=!0,i&&f(o,e)){const r=t(f(o,e),s.argA,s.argB);a&&L(o,e,r)}if(Array.isArray(f(r.errors,e))){const n=t(f(r.errors,e),s.argA,s.argB);a&&L(r.errors,e,n),ye(r.errors,e)}if(_.touchedFields&&f(r.touchedFields,e)){const n=t(f(r.touchedFields,e),s.argA,s.argB);a&&L(r.touchedFields,e,n),ye(r.touchedFields,e)}(_.dirtyFields||_.isDirty)&&B(e,n),j.state.next({isDirty:M(e,n),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})},_getFieldArray:e=>f(y.mount?b:l,e,t.shouldUnregister?f(l,e,[]):[]),_subjects:j,_proxyFormState:_,get _fields(){return o},set _fields(e){o=e},get _formValues(){return b},set _formValues(e){b=e},get _stateFlags(){return y},set _stateFlags(e){y=e},get _defaultValues(){return l},set _defaultValues(e){l=e},get _names(){return h},set _names(e){h=e},get _formState(){return r},set _formState(e){r=e},get _options(){return s},set _options(e){s=Object.assign(Object.assign({},s),e)}},trigger:ie,register:ge,handleSubmit:(e,t)=>async n=>{n&&(n.preventDefault&&n.preventDefault(),n.persist&&n.persist());let a=!0,i=Object.assign({},b);j.state.next({isSubmitting:!0});try{if(s.resolver){const{errors:e,values:t}=await T();r.errors=e,i=t}else await N(o);F(r.errors)&&Object.keys(r.errors).every(e=>f(i,e))?(j.state.next({errors:{},isSubmitting:!0}),await e(i,n)):(t&&await t(r.errors,n),s.shouldFocusError&&R(o,e=>f(r.errors,e),h.mount))}catch(l){throw a=!1,l}finally{r.isSubmitted=!0,j.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:F(r.errors)&&a,submitCount:r.submitCount+1,errors:r.errors})}},watch:(e,t)=>q(e)?j.watch.subscribe({next:s=>e(K(void 0,t),s)}):K(e,t,!0),setValue:function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=f(o,e),a=h.array.has(e);L(b,e,t),a?(j.array.next({name:e,values:b}),(_.isDirty||_.dirtyFields)&&s.shouldDirty&&(B(e,t),j.state.next({name:e,dirtyFields:r.dirtyFields,isDirty:M(e,t)}))):!n||n._f||i(t)?se(e,t,s,!0):re(e,t,s),A(e)&&j.state.next({}),j.watch.next({name:e})},getValues:oe,reset:function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=!F(e),a=e||l,i=H(a);if(s.keepDefaultValues||(l=a),!s.keepValues){if(Y)for(const e of h.mount){const t=f(o,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;try{$(e)&&e.closest("form").reset();break}catch(u){}}}b=t.shouldUnregister?s.keepDefaultValues?H(l):{}:i,o={},j.control.next({values:n?i:l}),j.watch.next({}),j.array.next({values:i})}h={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},j.state.next({submitCount:s.keepSubmitCount?r.submitCount:0,isDirty:s.keepDirty?r.isDirty:!!s.keepDefaultValues&&!G(e,l),isSubmitted:!!s.keepIsSubmitted&&r.isSubmitted,dirtyFields:s.keepDirty?r.dirtyFields:s.keepDefaultValues&&e?Object.entries(e).reduce((e,t)=>{let[s,r]=t;return Object.assign(Object.assign({},e),{[s]:r!==f(l,s)})},{}):{},touchedFields:s.keepTouched?r.touchedFields:{},errors:s.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1}),y.mount=!_.isValid||!!s.keepIsValid,y.watch=!!t.shouldUnregister},clearErrors:e=>{e?k(e).forEach(e=>te(r.errors,e)):r.errors={},j.state.next({errors:r.errors,isValid:!0})},unregister:fe,setError:(e,t,s)=>{const n=(f(o,e,{_f:{}})._f||{}).ref;L(r.errors,e,Object.assign(Object.assign({},t),{ref:n})),j.state.next({name:e,errors:r.errors,isValid:!1}),s&&s.shouldFocus&&n&&n.focus&&n.focus()},setFocus:e=>{const t=f(o,e)._f;(t.ref.focus?t.ref:t.refs[0]).focus()}}}function Se(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=r.useRef(),[s,n]=r.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}});t.current?t.current.control._options=e:t.current=Object.assign(Object.assign({},we(e)),{formState:s});const a=t.current.control;return E({subject:a._subjects.state,callback:e=>{A(e,a._proxyFormState,!0)&&(a._formState=Object.assign(Object.assign({},a._formState),e),n(Object.assign({},a._formState)))}}),r.useEffect(()=>{a._stateFlags.mount||(a._proxyFormState.isValid&&a._updateValid(),a._stateFlags.mount=!0),a._stateFlags.watch&&(a._stateFlags.watch=!1,a._subjects.state.next({})),a._removeUnmounted()}),r.useEffect(()=>()=>Object.values(a._subjects).forEach(e=>e.unsubscribe()),[a]),t.current.formState=S(s,a._proxyFormState),t.current}function Fe(e){const t=w(),{control:s=t.control,name:n,defaultValue:a,disabled:i}=e||{},o=r.useRef(n);o.current=n,E({disabled:i,subject:s._subjects.watch,callback:e=>{if(x(o.current,e.name)){s._stateFlags.mount=!0;const e=s._getWatch(o.current,a);c(l(e)?Object.assign({},e):Array.isArray(e)?[...e]:e)}}});const[u,c]=r.useState(d(a)?s._getWatch(n):a);return r.useEffect(()=>{s._removeUnmounted()}),u}}}]);