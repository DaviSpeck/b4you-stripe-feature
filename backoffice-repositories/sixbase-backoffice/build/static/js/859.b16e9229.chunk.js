"use strict";(self.webpackChunksixbase_backoffice=self.webpackChunksixbase_backoffice||[]).push([[859],{859:(e,a,t)=>{t.r(a),t.d(a,{default:()=>b});var i=t(89379),l=t(9950),n=t(30639),s=t(35203),o=t(11749),r=t(10467),c=t(45530),d=t(59051),p=t.n(d),h=t(13467),u=t(44414);const g=[{id:1,label:"IP"},{id:2,label:"CPF"},{id:3,label:"WHATSAPP"},{id:4,label:"EMAIL"},{id:5,label:"ENDERECO"},{id:6,label:"CEP"}],x=[{id:1,label:"Chargeback"},{id:2,label:"Incluido pelo suporte"},{id:3,label:"Venda noturna"},{id:4,label:"Compra acima do limite"},{id:5,label:"Attracione"},{id:6,label:"Notavel"},{id:7,label:"Produto Digital"},{id:8,label:"Bandeira Elo"}],m=(0,o.A)(e=>[{name:"ID",cell:e=>e.id,width:"80px"},{name:"Dado",cell:e=>e.data},{name:"Tipo",cell:e=>g.find(a=>a.id===e.id_type).label,width:"150px"},{name:"Raz\xe3o",cell:e=>x.find(a=>a.id===e.id_reason).label,width:"150px"},{name:"Data",cell:e=>p()(e.created_at).format("DD/MM/YYYY HH:mm"),width:"150px"},{name:"Ativo",cell:a=>(0,u.jsx)("div",{onClick:()=>e(a),style:{cursor:"pointer"},children:(0,u.jsx)(s.Ex,{color:!0===a.active?"success":"danger",children:!0===a.active?"Sim":"N\xe3o"})}),width:"90px"}]),j=()=>(0,u.jsxs)("div",{className:"d-flex align-items-end",children:[(0,u.jsx)("div",{className:"me-1",children:(0,u.jsx)(r.A,{size:24})}),(0,u.jsx)("div",{children:"Nenhum registro na lista de bloqueio!"})]});function b(){const[e,a]=(0,l.useState)([]),[t,o]=(0,l.useState)(0),[r,d]=(0,l.useState)(""),[p,g]=(0,l.useState)(!1),[x,b]=(0,l.useState)(!1),[f,v]=(0,l.useState)(""),{skin:w}=(0,h.h)(),[y,P]=(0,l.useState)({page:0,size:10,totalRecords:0}),A=async()=>{b(!0);try{const e=await c.F.get("/blacklist?page=".concat(y.page,"&size=").concat(y.size,"&input=").concat(f));a(e.data.rows),P(a=>(0,i.A)((0,i.A)({},a),{},{totalRecords:e.data.count}))}catch(e){console.log(e)}b(!1)};(0,l.useEffect)(()=>{A()},[y.page,y.size,f]);return(0,u.jsxs)("section",{id:"sectionKYC",children:[(0,u.jsx)("h2",{className:"mb-2",children:"Blacklist"}),(0,u.jsxs)(s.aF,{id:"modalViewStudentSales",isOpen:p,toggle:()=>g(!1),size:"lg",centered:!0,children:[(0,u.jsx)(s.rQ,{toggle:()=>g(!1),children:"Incluir bloqueio"}),(0,u.jsx)(s.cw,{className:"text-center",children:(0,u.jsxs)("div",{className:"d-flex justify-content-end gap-2",children:[(0,u.jsx)(s.pd,{placeholder:"Digite o valor",onChange:e=>{let{target:a}=e;setTimeout(()=>{d(a.value)},1e3)}}),(0,u.jsxs)(s.pd,{type:"select",onChange:e=>{let{target:a}=e;return o(a.value)},children:[(0,u.jsx)("option",{value:"",children:"Selecione"}),(0,u.jsx)("option",{value:"email",children:"E-mail"}),(0,u.jsx)("option",{value:"cpf",children:"CPF"}),(0,u.jsx)("option",{value:"ip",children:"IP"}),(0,u.jsx)("option",{value:"whatsapp",children:"WhatsApp"}),(0,u.jsx)("option",{value:"cep",children:"CEP"})]}),(0,u.jsx)(s.$n,{color:"primary",disabled:!r||0===t,onClick:()=>(async()=>{b(!0);try{await c.F.put("/blacklist/register",{inputBlock:r,typeBlock:t}),await A()}catch(e){console.log(e)}finally{g(!1),b(!1)}})(),children:"Salvar"})]})})]}),(0,u.jsx)(s.Zp,{children:(0,u.jsx)(s.bw,{className:"filters",children:(0,u.jsxs)(s.gE,{className:"filters",children:[(0,u.jsx)(s.JU,{children:"BUSCAR POR: E-MAIL, CPF, IP, ENDERE\xc7O, WHATSAPP"}),(0,u.jsxs)("div",{className:"d-flex",children:[(0,u.jsx)(s.pd,{onChange:e=>{let{target:a}=e;setTimeout(()=>{v(a.value)},1e3)}}),(0,u.jsx)("div",{className:"flex justify-end ml-2",children:(0,u.jsx)(s.$n,{color:"primary",onClick:()=>g(!0),children:"Adicionar"})})]})]})})}),(0,u.jsxs)(s.Zp,{children:[(0,u.jsx)(s.aR,{children:(0,u.jsx)(s.ZB,{children:"Lista de Bloqueios"})}),(0,u.jsx)(s.bw,{children:(0,u.jsx)(n.Ay,{paginationComponentOptions:{rowsPerPageText:"Linhas por p\xe1gina",rangeSeparatorText:"de",selectAllRowsItem:!1,selectAllRowsItemText:"Todos"},columns:m(async e=>{b(!0);try{await c.F.put("/blacklist/active",{active:!e.active,id:e.id}),await A()}catch(a){console.log(a)}b(!1)}),data:e,noDataComponent:j(),progressPending:x,theme:"dark"===w?"solarized":"solarizedLight",pagination:!0,paginationServer:!0,paginationPerPage:y.size,paginationRowsPerPageOptions:[100,50,25,10],onChangeRowsPerPage:e=>P(a=>(0,i.A)((0,i.A)({},a),{},{size:e})),onChangePage:e=>P(a=>(0,i.A)((0,i.A)({},a),{},{page:e-1})),paginationTotalRows:y.totalRecords})})]})]})}},10467:(e,a,t)=>{t.d(a,{A:()=>c});var i=t(9950),l=t(5393),n=t.n(l);function s(){return s=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},s.apply(this,arguments)}function o(e,a){if(null==e)return{};var t,i,l=function(e,a){if(null==e)return{};var t,i,l={},n=Object.keys(e);for(i=0;i<n.length;i++)t=n[i],a.indexOf(t)>=0||(l[t]=e[t]);return l}(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)t=n[i],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var r=(0,i.forwardRef)(function(e,a){var t=e.color,l=void 0===t?"currentColor":t,n=e.size,r=void 0===n?24:n,c=o(e,["color","size"]);return i.createElement("svg",s({ref:a,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:l,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),i.createElement("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),i.createElement("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),i.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))});r.propTypes={color:n().string,size:n().oneOfType([n().string,n().number])},r.displayName="AlertTriangle";const c=r}}]);