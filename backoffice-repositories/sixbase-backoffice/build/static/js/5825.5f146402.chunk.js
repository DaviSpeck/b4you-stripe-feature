"use strict";(self.webpackChunksixbase_backoffice=self.webpackChunksixbase_backoffice||[]).push([[5825],{45825:(e,a,s)=>{s.r(a),s.d(a,{default:()=>j});var l=s(89379),n=s(9950),i=s(58301),r=s(96690),c=s(13467),o=s(41384),t=s(62391),m=s(24113),d=s(82518),h=s(62534),x=s(94980);s(24078);var p=s(35203),u=s(65195);const f=s.p+"static/media/login-v2-dark.f1703be21a05002e4ec6dcaaf89fd5f5.svg";const g=s.p+"static/media/login-v2.003a384f58224d91ce06500a4e7cb27a.svg";var v=s(44414);const b={password:"",email:""},j=()=>{const{skin:e}=(0,c.h)(),a=(0,t.wA)(),s=(0,i.W6)(),j=(0,n.useContext)(h.Ex),[N,k]=(0,n.useState)(""),{control:w,setError:A,handleSubmit:y,formState:{errors:C}}=(0,m.mN)({defaultValues:b}),I="dark"===e?f:g;return(0,v.jsx)("div",{className:"auth-wrapper auth-cover",children:(0,v.jsxs)(p.fI,{className:"auth-inner m-0",children:[(0,v.jsxs)(r.N_,{className:"brand-logo",to:"/",onClick:e=>e.preventDefault(),children:[(0,v.jsx)("img",{src:u.A.app.appLogoImage,alt:"logo",style:{maxWidth:"36px"}}),(0,v.jsx)("h2",{className:"brand-text text-primary ms-1",children:"B4you | Backoffice"})]}),(0,v.jsx)(p.fv,{className:"d-none d-lg-flex align-items-center p-5",lg:"8",sm:"12",children:(0,v.jsx)("div",{className:"w-100 d-lg-flex align-items-center justify-content-center px-5",children:(0,v.jsx)("img",{className:"img-fluid",src:I,alt:"Login Cover"})})}),(0,v.jsx)(p.fv,{className:"d-flex align-items-center auth-bg px-2 p-lg-5",lg:"4",sm:"12",children:(0,v.jsxs)(p.fv,{className:"px-xl-2 mx-auto",sm:"8",md:"6",lg:"12",children:[(0,v.jsx)(p.ZB,{tag:"h2",className:"fw-bold mb-1",children:"Bem vindo ao Backoffice da B4YOU! \ud83d\udc4b"}),(0,v.jsx)(p.c5,{className:"mb-2",children:"Fa\xe7a login na sua conta para come\xe7ar a aventura!"}),(0,v.jsxs)(p.lV,{className:"auth-login-form mt-2",onSubmit:y(e=>{if(Object.values(e).every(e=>e.length>0))k(""),o.A.login({email:e.email,password:e.password}).then(e=>{const n=(0,l.A)((0,l.A)({},e.data.user),{},{accessToken:e.data.accessToken});var i;a((0,d.mg)(n)),j.update(e.data.user.abilities),s.push("admin"===(i="admin")?"/":"client"===i?{name:"access-control"}:{name:"auth-login"})}).catch(e=>{var a;console.log(e),e.response&&403===e.response.status&&"ACCOUNT_DEACTIVATED"===(null===(a=e.response.data)||void 0===a?void 0:a.code)?k(e.response.data.message):k("Email ou senha inv\xe1lidos. Tente novamente.")});else for(const a in e)0===e[a].length&&A(a,{type:"manual"})}),children:[N&&(0,v.jsx)(p.Fc,{color:"danger",className:"mb-2",children:N}),(0,v.jsxs)("div",{className:"mb-1",children:[(0,v.jsx)(p.JU,{className:"form-label",for:"login-email",children:"Email"}),(0,v.jsx)(m.xI,{id:"loginEmail",name:"email",control:w,render:e=>{let{field:a}=e;return(0,v.jsx)(p.pd,(0,l.A)({autoFocus:!0,type:"email",placeholder:"john@example.com",invalid:C.email&&!0},a))}})]}),(0,v.jsxs)("div",{className:"mb-1",children:[(0,v.jsx)("div",{className:"d-flex justify-content-between",children:(0,v.jsx)(p.JU,{className:"form-label",for:"login-password",children:"Senha"})}),(0,v.jsx)(m.xI,{id:"password",name:"password",control:w,render:e=>{let{field:a}=e;return(0,v.jsx)(x.A,(0,l.A)({className:"input-group-merge",invalid:C.password&&!0},a))}})]}),(0,v.jsxs)("div",{className:"form-check mb-1",children:[(0,v.jsx)(p.pd,{type:"checkbox",id:"remember-me"}),(0,v.jsx)(p.JU,{className:"form-check-label",for:"remember-me",children:"Lembre-me"})]}),(0,v.jsx)(p.$n,{type:"submit",color:"primary",block:!0,children:"Entrar"})]})]})})]})})}},94980:(e,a,s)=>{s.d(a,{A:()=>p});var l=s(89379),n=s(80045),i=s(9950),r=s(48738),c=s.n(r),o=s(31433),t=s(30025),m=s(35203),d=s(44414);const h=["label","hideIcon","showIcon","visible","className","htmlFor","placeholder","iconSize","inputClassName","invalid"],x=(0,i.forwardRef)((e,a)=>{const{label:s,hideIcon:r,showIcon:x,visible:p,className:u,htmlFor:f,placeholder:g,iconSize:v,inputClassName:b,invalid:j}=e,N=(0,n.A)(e,h),[k,w]=(0,i.useState)(p);return(0,d.jsxs)(i.Fragment,{children:[s?(0,d.jsx)(m.JU,{className:"form-label",for:f,children:s}):null,(0,d.jsxs)(m.MG,{className:c()({[u]:u,"is-invalid":j}),children:[(0,d.jsx)(m.pd,(0,l.A)((0,l.A)({ref:a,invalid:j,type:!1===k?"password":"text",placeholder:g||"\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7",className:c()({[b]:b})},s&&f?{id:f}:{}),N)),(0,d.jsx)(m.zB,{className:"cursor-pointer",onClick:()=>w(!k),children:(()=>{const e=v||14;return!1===k?r||(0,d.jsx)(t.A,{size:e}):x||(0,d.jsx)(o.A,{size:e})})()})]})]})}),p=x;x.defaultProps={visible:!1}}}]);