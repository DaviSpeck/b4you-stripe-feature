"use strict";(self.webpackChunksixbase_backoffice=self.webpackChunksixbase_backoffice||[]).push([[6561],{56561:(e,s,a)=>{a.d(s,{A:()=>p});var i=a(9950),n=a(35203),r=a(13955),l=a(59051),d=a.n(l),c=a(77242),o=a(96690),t=a(45530),h=a(12449),x=a(61045),m=a(44414);const j={position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0};function p(e){var s,a,l,p,v,u,g,f,N,w,_,b,C,D,k,y,Y;let{show:S,getStudentData:A,toggle:z,data:F,student:M,canRefund:P=!0}=e;const[R,H]=(0,i.useState)(!1),[E,B]=(0,i.useState)(!1),[L,O]=(0,i.useState)(""),[T,U]=(0,i.useState)(""),[V,I]=(0,i.useState)(""),[$,J]=(0,i.useState)("savings"),[q,Q]=(0,i.useState)(!1),W=e=>{e.preventDefault(),H(!0),t.F.post("/sales/refund/".concat(F.uuid),{agency:T,bank_code:V,account_number:L,account_type:$}).then(()=>{A(),B(!1),z(),h.oR.success("Reembolso solicitado com sucesso",j)}).catch(()=>{h.oR.error("Erro ao solicitar reembolso, por favor, entre em contato com os devs",j)})};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(x.A,{title:"Reembolsar venda",show:q,setShow:Q,textAlert:"Deseja realmente reembolsar esta venda?",simpleConfirm:!0,centered:!0,buttonText:"Reembolsar",handleAction:e=>{Q(!1),"billet"!==F.payment_method||M.bank_code||M.account_agency||M.account_number?W(e):(e.preventDefault(),B(!0))}}),(0,m.jsxs)(n.aF,{id:"modalBankAccount",isOpen:E,toggle:()=>B(!1),centered:!0,size:"lg",children:[(0,m.jsx)(n.rQ,{toggle:()=>B(!1),children:"Conta banc\xe1ria para reembolso"}),(0,m.jsxs)(n.cw,{children:[(0,m.jsxs)(n.gE,{className:"form-bank-account",children:[(0,m.jsx)(n.JU,{children:"N\xfamero da conta com d\xedgito"}),(0,m.jsx)(n.pd,{onChange:e=>{let{target:s}=e;O(s.value)}}),(0,m.jsx)(n.JU,{children:"Ag\xeancia"}),(0,m.jsx)(n.pd,{onChange:e=>{let{target:s}=e;U(s.value)}}),(0,m.jsx)(n.JU,{children:"C\xf3digo do banco"}),(0,m.jsx)(n.pd,{onChange:e=>{let{target:s}=e;I(s.value)}}),(0,m.jsx)(n.JU,{children:"Tipo de conta"}),(0,m.jsxs)(n.pd,{type:"select",onChange:e=>J(e.target.value),children:[(0,m.jsx)("option",{value:"savings",children:"Poupan\xe7a"}),(0,m.jsx)("option",{value:"checking",children:"Corrente"})]})]}),(0,m.jsx)("div",{className:"d-flex justify-content-end",children:(0,m.jsx)(n.$n,{color:"danger",onClick:e=>W(e),outline:!0,children:R?"Carregando...":"Reembolsar Venda"})})]})]}),(0,m.jsxs)(n.aF,{id:"modalViewStudentSales",isOpen:S,toggle:z,centered:!0,size:"lg",children:[(0,m.jsx)(n.rQ,{toggle:z,children:"Compras"}),(0,m.jsx)(n.cw,{children:S&&F&&(0,m.jsx)(n.Zp,{children:(0,m.jsxs)(n.bw,{children:[(0,m.jsxs)("div",{className:"view-ss-container",children:[(0,m.jsxs)("div",{className:"view-ss-item",children:[(0,m.jsx)("span",{children:"ID"}),(0,m.jsx)("span",{children:F.uuid})]}),(0,m.jsx)("hr",{}),(0,m.jsxs)("div",{className:"view-ss-item align-items-center",children:[(0,m.jsx)("div",{className:"d-block w-25",children:"Transa\xe7\xe3o de pagamento"}),(0,m.jsx)("div",{children:F.payment_transaction})]}),(0,m.jsx)("hr",{}),(0,m.jsxs)("div",{className:"view-ss-item",children:[(0,m.jsx)("span",{children:"PSPID"}),(0,m.jsx)("span",{children:F.psp_id})]}),(0,m.jsx)("hr",{}),F.provider&&" - "!==F.provider&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"view-ss-item",children:[(0,m.jsx)("span",{children:"PROVEDOR - ID"}),(0,m.jsx)("span",{children:F.provider})]}),(0,m.jsx)("hr",{})]}),(0,m.jsxs)("div",{className:"view-ss-item",children:[(0,m.jsx)("span",{children:"Data"}),(0,m.jsx)("span",{children:d()(F.created_at).format("DD/MM/YYYY HH:mm")})]}),(0,m.jsx)("hr",{className:"mb-3"}),(null===F||void 0===F||null===(s=F.charge)||void 0===s?void 0:s.provider_response_details)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"view-ss-item",children:[(0,m.jsx)("span",{children:"Motivo da recusa"}),(0,m.jsx)("span",{children:F.charge.provider_response_details})]}),(0,m.jsx)("hr",{className:"mb-3"})]}),(0,m.jsxs)("div",{className:"view-ss-item",children:[(0,m.jsx)("span",{children:"Produto"}),(0,m.jsx)("span",{children:(0,m.jsx)(o.N_,{to:"/producer/".concat(null===(a=F.producer)||void 0===a?void 0:a.uuid,"/product/").concat(null===(l=F.product)||void 0===l?void 0:l.uuid),children:F.product.name})})]}),(0,m.jsx)("hr",{}),(0,m.jsxs)("div",{className:"view-ss-item",children:[(0,m.jsx)("span",{children:"Produtor"}),(0,m.jsx)("span",{children:(0,m.jsx)(o.N_,{to:"/producer/".concat(null===(p=F.producer)||void 0===p?void 0:p.uuid),children:F.producer.full_name})})]}),(0,m.jsx)("hr",{}),(0,m.jsxs)("div",{className:"view-ss-item",children:[(0,m.jsx)("span",{children:"E-mail de suporte"}),(0,m.jsx)("span",{children:null!==(v=F.product)&&void 0!==v&&v.support_email?(0,m.jsx)("a",{href:"mailto:".concat(F.product.support_email),children:null===(u=F.product)||void 0===u?void 0:u.support_email}):"N\xe3o informado"})]}),(0,m.jsx)("hr",{}),(0,m.jsxs)("div",{className:"view-ss-item",children:[(0,m.jsx)("span",{children:"WhatsApp de suporte"}),null!==(g=F.product)&&void 0!==g&&g.support_whatsapp?(0,m.jsx)("a",{href:"https://wa.me/55".concat(null===(f=F.product)||void 0===f?void 0:f.support_whatsapp.replace(/ /g,"")),target:"_blank",rel:"noreferrer",children:null===(N=F.product)||void 0===N?void 0:N.support_whatsapp}):"N\xe3o informado"]}),(0,m.jsx)("hr",{}),(0,m.jsxs)("div",{className:"view-ss-item",children:[(0,m.jsx)("span",{children:"Pre\xe7o"}),(0,m.jsx)("span",{children:(0,r.cC)(F.price)})]}),F.price!==F.price_total&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("hr",{}),(0,m.jsxs)("div",{className:"view-ss-item",children:[(0,m.jsx)("span",{children:"Pre\xe7o pago"}),(0,m.jsx)("span",{children:(0,r.cC)(F.price_total)})]})]}),(0,m.jsx)("hr",{}),(0,m.jsxs)("div",{className:"view-ss-item",children:[(0,m.jsx)("span",{children:"Tipo"}),(0,m.jsx)("span",{children:F.type})]}),(0,m.jsx)("hr",{}),(0,m.jsxs)("div",{className:"view-ss-item",children:[(0,m.jsx)("span",{children:"Tipo do Produto"}),F.type_sale]}),(0,m.jsx)("hr",{}),(0,m.jsxs)("div",{className:"view-ss-item",children:[(0,m.jsx)("span",{children:"Pagamento"}),(0,m.jsx)("span",{children:F.payment_type})]}),(0,m.jsx)("hr",{}),(0,m.jsxs)("div",{className:"view-ss-item",children:[(0,m.jsx)("span",{children:"M\xe9todo de Pagamento"}),(0,m.jsx)("span",{children:(0,m.jsx)(c.A,{type:F.payment_method})})]}),"billet"===F.payment_method&&(null===F||void 0===F?void 0:F.charge)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("hr",{}),(0,m.jsxs)("div",{className:"view-ss-item",children:[(0,m.jsx)("span",{children:"Url boleto"}),(0,m.jsx)("span",{children:(0,m.jsx)("a",{href:null===F||void 0===F||null===(w=F.charge)||void 0===w?void 0:w.billet_url,target:"_blank",rel:"noreferrer",children:"Link"})})]})]}),(0,m.jsx)("hr",{}),("card"===F.payment_method||"\xdanico"===F.payment_method)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"view-ss-item",children:[(0,m.jsx)("span",{children:"Parcelas"}),F.installments]}),(0,m.jsx)("hr",{})]}),(0,m.jsxs)("div",{className:"view-ss-item",children:[(0,m.jsx)("span",{children:"Pago em"}),(0,m.jsx)("span",{children:F.paid_at?d()(F.paid_at).format("DD/MM/YYYY HH:mm"):"-"})]}),(0,m.jsx)("hr",{}),F.card&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"view-ss-item",children:[(0,m.jsx)("span",{children:"\xdaltimos quatro d\xedgitos"}),(0,m.jsx)("span",{children:F.card})]}),(0,m.jsx)("hr",{})]}),(0,m.jsxs)("div",{className:"view-ss-item",children:[(0,m.jsx)("span",{children:"Prazo m\xe1ximo de "}),(0,m.jsx)("span",{children:d()(F.valid_refund_until).format("DD/MM/YYYY HH:mm")})]}),console.log(F),(null===(_=F.sale)||void 0===_||null===(b=_.params)||void 0===b?void 0:b.ip)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("hr",{}),(0,m.jsxs)("div",{className:"view-ss-item",children:[(0,m.jsx)("span",{children:"IP da compra"}),(0,m.jsx)("span",{children:F.sale.params.ip})]})]}),(0,m.jsx)("hr",{}),F.refunds&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"view-ss-item",children:[(0,m.jsx)("span",{children:"Motivo do reembolso"}),(0,m.jsx)("span",{children:(null===(C=F.refunds)||void 0===C?void 0:C.reason)||"N\xe3o informado"})]}),(0,m.jsx)("hr",{}),(0,m.jsxs)("div",{className:"view-ss-item",children:[(0,m.jsx)("span",{children:"Solicita\xe7\xe3o reembolso"}),(0,m.jsx)("span",{children:d()(null===(D=F.refunds)||void 0===D?void 0:D.created_at).format("DD/MM/YYYY HH:mm")})]}),(0,m.jsx)("hr",{}),(0,m.jsxs)("div",{className:"view-ss-item",children:[(0,m.jsx)("span",{children:"Atualiza\xe7\xe3o reembolso"}),(0,m.jsx)("span",{children:d()(null===(k=F.refunds)||void 0===k?void 0:k.updated_at).format("DD/MM/YYYY HH:mm")})]}),(0,m.jsx)("hr",{})]}),(0,m.jsxs)("div",{className:"view-ss-item",children:[(0,m.jsx)("span",{children:"Venda por afiliado"}),(0,m.jsx)("span",{children:F.id_affiliate?(0,m.jsx)(n.Ex,{color:"success",children:"Sim"}):(0,m.jsx)(n.Ex,{color:"warning",children:"N\xe3o"})})]}),(null===F||void 0===F?void 0:F.affiliate)&&(0,m.jsxs)("div",{className:"view-ss-item mt-2",children:[(0,m.jsx)("span",{children:"Afiliado"}),(0,m.jsx)(o.N_,{to:"/producer/".concat(null===F||void 0===F||null===(y=F.affiliate)||void 0===y?void 0:y.uuid),children:(0,m.jsx)("span",{children:null===F||void 0===F||null===(Y=F.affiliate)||void 0===Y?void 0:Y.full_name})})]}),(null===F||void 0===F?void 0:F.tracking_code)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"view-ss-item mt-2",children:[(0,m.jsx)("span",{children:"C\xf3digo de Rastreio"}),(0,m.jsx)("span",{children:(null===F||void 0===F?void 0:F.tracking_code)||"N\xe3o informado"})]}),(0,m.jsxs)("div",{className:"view-ss-item mt-2",children:[(0,m.jsx)("span",{children:"URL de Rastreio"}),(0,m.jsx)("a",{href:"".concat((null===F||void 0===F?void 0:F.tracking_url)||"N\xe3o informado"),target:"_blank",rel:"noreferrer",children:(0,m.jsx)("span",{children:(null===F||void 0===F?void 0:F.tracking_url)||"N\xe3o informado"})})]}),(0,m.jsxs)("div",{className:"view-ss-item mt-2",children:[(0,m.jsx)("span",{children:"Empresa de Rastreio"}),(0,m.jsx)("span",{children:(null===F||void 0===F?void 0:F.tracking_company)||"N\xe3o informado"})]})]}),F.referral_commission&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("hr",{}),(0,m.jsxs)("div",{className:"view-ss-item mt-2",children:[(0,m.jsx)("span",{children:"Comiss\xe3o por indica\xe7\xe3o"}),(0,m.jsx)("span",{children:(0,r.cC)(null===F||void 0===F?void 0:F.referral_commission.amount)})]}),(0,m.jsx)("hr",{}),(0,m.jsxs)("div",{className:"view-ss-item",children:[(0,m.jsx)("span",{children:"Status"}),(0,m.jsx)("span",{children:null===F||void 0===F?void 0:F.referral_commission.status.label})]}),(null===F||void 0===F?void 0:F.referral_commission.release_date)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("hr",{}),(0,m.jsxs)("div",{className:"view-ss-item",children:[(0,m.jsx)("span",{children:"Data de libera\xe7\xe3o"}),(0,m.jsx)("span",{children:d()(F.referral_commission.release_date,"YYYY-MM-DD").format("DD/MM/YYYY")})]})]}),(0,m.jsx)("hr",{}),(0,m.jsxs)("div",{className:"view-ss-item",children:[(0,m.jsx)("span",{children:"Produtor"}),(0,m.jsx)("span",{children:(0,m.jsx)(o.N_,{to:"/producer/".concat(F.referral_commission.user_uuid),children:F.referral_commission.full_name})})]})]})]}),"paid"===F.status.key&&P&&(0,m.jsx)("div",{className:"d-flex justify-content-end",children:(0,m.jsx)(n.$n,{color:"danger",className:"mt-3",onClick:e=>{e.preventDefault(),Q(!0)},outline:!0,children:R?"Carregando...":"Reembolsar Venda"})})]})},F.uuid)})]})]})}},61045:(e,s,a)=>{a.d(s,{A:()=>t});var i=a(9950),n=a(35203),r=a(89379),l=a(80045),d=a(44414);const c=["variant","size","warn","text","icon","textButton","className","style","buttonWhite","children"],o=e=>{let{variant:s="danger",size:a="md",warn:i="Aviso:",text:n="H\xe1 algo de errado",icon:o="bx-error",textButton:t,className:h,style:x,buttonWhite:m=!0,children:j}=e,p=(0,l.A)(e,c);return(0,d.jsxs)("div",(0,r.A)((0,r.A)({className:"alertDS alertDS-".concat(s," alertDS-size-").concat(a," ").concat(h)},p),{},{style:x,children:[(0,d.jsxs)("div",{className:o&&"alertDS-wrap-icon",style:{display:!o&&"none"},children:[(0,d.jsx)("i",{className:"bx ".concat(o)}),(0,d.jsx)("span",{className:"alertDS-heading",children:i})]}),(0,d.jsx)("span",{className:"alertDS-text",children:n}),j]}))},t=e=>{let{show:s,setShow:a,footer:r,centered:l,title:c="Confirmar a\xe7\xe3o",confirmText:t="Confirmo",buttonText:h="Confirmar A\xe7\xe3o",description:x,handleAction:m,simpleConfirm:j,variant:p="danger",variantButton:v="danger",textAlert:u="Essa opera\xe7\xe3o n\xe3o poder\xe1 ser desfeita.",haveLoader:g=!0}=e;const[f,N]=(0,i.useState)(""),[w,_]=(0,i.useState)(!1),b=()=>{a(!1)};return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(n.aF,{isOpen:s,toggle:()=>b(),centered:l,className:"modal-generic modal-confirm-action",children:[(0,d.jsx)(n.rQ,{children:c}),(0,d.jsxs)(n.cw,{children:[(0,d.jsx)("div",{className:"mb-4",children:(0,d.jsx)(o,{warn:"Aviso:",variant:p,text:u})}),x?(0,d.jsx)("p",{children:x}):(0,d.jsx)("p",{children:"Ao apertar o bot\xe3o abaixo a a\xe7\xe3o tomada n\xe3o poder\xe1 ser desfeita!"}),(0,d.jsx)("b",{className:"mr-2",children:"Voc\xea tem certeza que quer tomar esta a\xe7\xe3o?"}),j?(0,d.jsx)("span",{children:"Aperte o bot\xe3o para confirmar."}):(0,d.jsxs)("span",{children:['Digite o termo "',(0,d.jsx)("b",{children:t}),'" no campo abaixo.']}),j?(0,d.jsx)(n.fI,{className:"mt-4",children:(0,d.jsxs)(n.fv,{className:"d-flex justify-content-between",children:[(0,d.jsx)(n.$n,{variant:v,size:"sm",onClick:()=>{a(!1)},outline:!0,children:"Cancelar"}),(0,d.jsx)(n.$n,{variant:v,size:"sm",onClick:e=>{g&&_(!0),m(e)},disabled:w,children:w?"Carregando...":h})]})}):(0,d.jsxs)(n.fI,{className:"mt-4",children:[(0,d.jsx)(n.fv,{md:12,children:(0,d.jsx)(n.lV.Control,{className:"text-center",placeholder:'Digite "'.concat(t,'"'),onKeyUp:e=>{N(e.target.value)}})}),(0,d.jsx)(n.fv,{className:"d-flex justify-content-end",children:(0,d.jsx)("div",{className:"mt-4",children:(0,d.jsx)(n.$n,{variant:v,size:"xs",onClick:e=>{g&&_(!0),m(e)},disabled:f.toLowerCase().replace(/\s/g,"")!==t.toLowerCase().replace(/\s/g,"")||w,children:(0,d.jsx)("span",{style:{fontSize:16},children:w?"Carregando...":h})})})})]})]}),r&&(0,d.jsx)(n.jl,{children:(0,d.jsx)(n.$n,{size:"sm",variant:"light",onClick:b,children:"Fechar"})})]})})}},77242:(e,s,a)=>{a.d(s,{A:()=>n});a(9950);var i=a(44414);const n=e=>{let{type:s}=e;return"billet"===s?(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"method",children:[(0,i.jsx)("i",{className:"bx bx-barcode"}),(0,i.jsx)("span",{children:"Boleto"})]})}):"card"===s?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"method",children:[(0,i.jsx)("i",{className:"bx bx-credit-card"}),(0,i.jsx)("span",{children:"Cart\xe3o"})]})}):"pix"!==s||(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"method",children:[(0,i.jsxs)("svg",{viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("defs",{}),(0,i.jsxs)("g",{fill:"#555",fillRule:"evenodd",children:[(0,i.jsx)("path",{d:"M393.072 391.897c-20.082 0-38.969-7.81-53.176-22.02l-77.069-77.067c-5.375-5.375-14.773-5.395-20.17 0l-76.784 76.786c-14.209 14.207-33.095 22.019-53.179 22.019h-9.247l97.521 97.52c30.375 30.375 79.614 30.375 109.988 0l97.239-97.238h-15.123zm-105.049 74.327c-8.55 8.53-19.93 13.25-32.05 13.25h-.02c-12.12 0-23.522-4.721-32.05-13.25l-56.855-56.855c7.875-4.613 15.165-10.248 21.758-16.84l63.948-63.948 64.23 64.23c7.637 7.66 16.188 14.013 25.478 18.952l-54.439 54.46zM310.958 22.78c-30.374-30.374-79.613-30.374-109.988 0l-97.52 97.52h9.247c20.082 0 38.97 7.834 53.178 22.02l76.784 76.785c5.57 5.592 14.622 5.57 20.17 0l77.069-77.068c14.207-14.187 33.094-22.02 53.176-22.02h15.123l-97.239-97.237zm6.028 96.346l-64.23 64.23-63.97-63.97c-6.593-6.592-13.86-12.206-21.736-16.818l56.853-56.877c17.69-17.645 46.476-17.668 64.121 0l54.44 54.461c-9.292 4.961-17.842 11.315-25.479 18.974h.001z"}),(0,i.jsx)("path",{d:"M489.149 200.97l-58.379-58.377h-37.706c-13.838 0-27.394 5.635-37.185 15.426l-77.068 77.069c-7.202 7.18-16.623 10.77-26.067 10.77-9.443 0-18.885-3.59-26.066-10.77l-76.785-76.785c-9.792-9.814-23.346-15.427-37.207-15.427h-31.81L22.78 200.97c-30.374 30.375-30.374 79.614 0 109.988l58.095 58.074 31.81.021c13.86 0 27.416-5.635 37.208-15.426l76.784-76.764c13.925-13.947 38.208-13.924 52.133-.02l77.068 77.066c9.791 9.792 23.346 15.405 37.185 15.405h37.706l58.379-58.356c30.374-30.374 30.374-79.613 0-109.988zm-362.19 129.724c-3.763 3.786-8.942 5.917-14.273 5.917H94.302l-48.59-48.564c-17.689-17.69-17.689-46.476 0-64.143L94.3 175.296h18.385c5.331 0 10.51 2.154 14.295 5.918l74.74 74.74-74.761 74.74zm339.257-42.647l-48.848 48.87h-24.305c-5.309 0-10.508-2.155-14.251-5.92l-75.023-75.043 75.023-75.023c3.743-3.764 8.942-5.918 14.252-5.918h24.304l48.847 48.891c8.573 8.551 13.273 19.93 13.273 32.05 0 12.141-4.7 23.52-13.273 32.093z"})]})]}),(0,i.jsx)("span",{children:"Pix"})]})})}}}]);