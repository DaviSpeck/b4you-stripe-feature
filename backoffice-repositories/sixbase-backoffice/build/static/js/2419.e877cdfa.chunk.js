"use strict";(self.webpackChunksixbase_backoffice=self.webpackChunksixbase_backoffice||[]).push([[2419],{6878:(e,t,s)=>{s.d(t,{A:()=>c});var n=s(9950),a=s(5393),r=s.n(a);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},l.apply(this,arguments)}function i(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}var o=(0,n.forwardRef)(function(e,t){var s=e.color,a=void 0===s?"currentColor":s,r=e.size,o=void 0===r?24:r,c=i(e,["color","size"]);return n.createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),n.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),n.createElement("polyline",{points:"7 10 12 15 17 10"}),n.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}))});o.propTypes={color:r().string,size:r().oneOfType([r().string,r().number])},o.displayName="Download";const c=o},7609:(e,t,s)=>{s.d(t,{A:()=>r});var n=s(77265),a=s(44414);function r(e){let{size:t=24,className:s="",text:r="Carregando...",showText:l=!1}=e;return(0,a.jsxs)("div",{className:"d-flex flex-column align-items-center ".concat(s),children:[(0,a.jsx)(n.A,{size:t,style:{animation:"spin 1s linear infinite"}}),l&&(0,a.jsx)("span",{className:"mt-2 text-muted",children:r})]})}},28285:()=>{},33006:(e,t,s)=>{s.d(t,{A:()=>c});var n=s(9950),a=s(5393),r=s.n(a);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},l.apply(this,arguments)}function i(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}var o=(0,n.forwardRef)(function(e,t){var s=e.color,a=void 0===s?"currentColor":s,r=e.size,o=void 0===r?24:r,c=i(e,["color","size"]);return n.createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),n.createElement("circle",{cx:"11",cy:"11",r:"8"}),n.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))});o.propTypes={color:r().string,size:r().oneOfType([r().string,r().number])},o.displayName="Search";const c=o},39890:(e,t,s)=>{s.d(t,{A:()=>l});var n=s(9950),a=s(35203),r=s(44414);const l=e=>{let{item:t,id:s,children:l}=e;const[i,o]=(0,n.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{id:"Tooltip-".concat(s),className:"tooltip-custom",children:l}),(0,r.jsx)(a.m_,{placement:t.placement,isOpen:i,target:"Tooltip-".concat(s),toggle:()=>o(!i),children:"string"===typeof t.text?(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:t.text}}):t.text})]})}},69490:(e,t,s)=>{s.d(t,{A:()=>c});var n=s(9950),a=s(5393),r=s.n(a);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},l.apply(this,arguments)}function i(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}var o=(0,n.forwardRef)(function(e,t){var s=e.color,a=void 0===s?"currentColor":s,r=e.size,o=void 0===r?24:r,c=i(e,["color","size"]);return n.createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),n.createElement("circle",{cx:"12",cy:"12",r:"10"}),n.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n.createElement("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"}))});o.propTypes={color:r().string,size:r().oneOfType([r().string,r().number])},o.displayName="Info";const c=o},72419:(e,t,s)=>{s.r(t),s.d(t,{default:()=>R});var n=s(9950),a=s(35203),r=s(45530),l=s(13955),i=s(48738),o=s.n(i),c=s(34619),d=s(44414);const x=e=>{let{className:t,hideChart:s=!0,iconRight:n=!0,iconBg:r,icon:l,stat:i,statTitle:x,options:h,series:p,type:m,height:u,gap:j="1"}=e;return(0,d.jsxs)(a.Zp,{style:{background:"transparent"},children:[(0,d.jsxs)(a.bw,{className:o()("stats-card-body  d-flex gap-".concat(j," pt-0"),{[t||""]:t,"flex-column align-items-start":!n&&!s,"flex-row align-items-center":n,"justify-content-center flex-column text-center":s&&!n,"pb-0":!s}),children:[(0,d.jsx)("div",{className:"icon-section",children:(0,d.jsx)("div",{className:"avatar avatar-stats p-50 m-0 ".concat(r?"bg-light-".concat(r):"bg-light-primary"),children:(0,d.jsx)("div",{className:"avatar-content",children:l})})}),(0,d.jsxs)("div",{className:"title-section",children:[(0,d.jsx)("h2",{className:"fw-bold mb-25",children:i}),(0,d.jsx)("p",{className:"mb-0",children:x})]})]}),!s&&(0,d.jsx)(c.A,{options:h,series:p,type:m,height:u||100})]})};var h=s(65956),p=s(77265);const m=e=>{var t;let{costs:s,fetchCosts:i}=e;const[o,c]=(0,n.useState)("visa"),[m,u]=(0,n.useState)(!1),[j,f]=(0,n.useState)(null),[v,g]=(0,n.useState)(null),y=()=>u(!m);return(0,d.jsxs)("div",{id:"costs",children:[(0,d.jsxs)(a.Zp,{children:[(0,d.jsx)(a.aR,{children:(0,d.jsx)(a.ZB,{children:(0,d.jsx)("h2",{children:"Custos"})})}),(0,d.jsxs)(a.bw,{className:"d-flex p-0 flex-wrap",children:[(0,d.jsxs)("div",{className:"wrap-info flex-column",children:[(0,d.jsx)("div",{className:"p-2 pt-0",children:(0,d.jsxs)("div",{className:"icon-section-wrap d-flex gap-2 align-items-center",children:[(0,d.jsx)("div",{className:"icon-section",children:(0,d.jsx)("div",{className:"avatar avatar-stats p-50 m-0",children:(0,d.jsx)("div",{className:"avatar-content",children:(0,d.jsx)(h.A,{})})})}),(0,d.jsx)("h2",{children:"Cart\xf5es"})]})}),(0,d.jsx)(a.JS,{activeTab:o,className:"p-2 pt-0",children:Object.keys(s.sales.card).map(e=>{const t=s.sales.card[e];return(0,d.jsx)(a.mF,{tabId:e,children:(0,d.jsxs)(a.XI,{className:"w-50",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Parcela"}),(0,d.jsx)("th",{children:"Tarifa"})]})}),(0,d.jsx)("tbody",{children:t.map((e,t)=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{scope:"row",className:"w-50",children:e.installment}),(0,d.jsx)("th",{children:e.variable+"%"}),(0,d.jsx)("div",{className:"icon",onClick:()=>(e=>{y(),f(e)})(e),children:(0,d.jsx)("i",{className:"bx bxs-pencil"})})]},t))})]})},e)})})]}),(0,d.jsx)("div",{className:"wrap-info align-items-start",children:(0,d.jsx)(x,{iconBg:"light",icon:(0,d.jsx)(h.A,{}),stat:s?(0,l.cC)(s.sales.billet.fixed):(0,d.jsx)(p.A,{}),statTitle:"Boleto"})}),(0,d.jsx)("div",{className:"wrap-info align-items-start",children:(0,d.jsx)(x,{iconBg:"light",icon:(0,d.jsx)(h.A,{}),stat:s?(0,l.cC)(s.sales.pix.fixed):(0,d.jsx)(p.A,{}),statTitle:"Pix"})})]})]}),(0,d.jsxs)(a.aF,{isOpen:m,toggle:y,centered:!0,size:"sm",children:[(0,d.jsx)(a.rQ,{toggle:y,children:"Editar tarifa"}),(0,d.jsxs)(a.cw,{children:[(0,d.jsx)(a.JU,{children:"Parcela atual"}),(0,d.jsx)(a.pd,{type:"text",disabled:!0,value:"".concat(null===j||void 0===j?void 0:j.installment," ").concat(1===(null===j||void 0===j?void 0:j.installment)?"vez":"vezes")}),(0,d.jsx)(a.JU,{className:"mt-1",children:"Tarifa atual"}),(0,d.jsx)(a.pd,{type:"text",disabled:!0,value:"".concat(null===j||void 0===j?void 0:j.variable,"%")}),(0,d.jsx)(a.JU,{className:"mt-1",children:"Alterar tarifa"}),(0,d.jsx)(a.pd,{type:"number",defaultValue:null===j||void 0===j?void 0:j.variable,placeholder:null===j||void 0===j||null===(t=j.variable)||void 0===t?void 0:t.toString(),onChange:e=>g(e.target.value)}),(0,d.jsx)(a.fI,{className:"mt-2 mb-2",children:(0,d.jsx)(a.fv,{className:"d-flex justify-content-end",children:(0,d.jsx)(a.$n,{color:"primary",onClick:()=>{j&&v&&r.F.put("reports/card",{percentage:parseFloat(v),installments:j.installment}).then(()=>{i(),y()}).catch(e=>console.error(e))},children:"Salvar"})})})]})]})]})};var u=s(89379),j=s(98664),f=s(49020),v=s(15391),g=s(69490),y=s(59051),w=s.n(y),b=s(34964),C=(s(94300),s(39890)),N=s(7609);const O=()=>{var e;const[t,s]=(0,n.useState)(!0),[i,o]=(0,n.useState)(null),[c,p]=(0,n.useState)({calendar:[w()().startOf("month").toDate(),w()().toDate()]});return(0,n.useEffect)(()=>{s(!0),r.F.get("/reports?start_date=".concat(w()(c.calendar[0]).format("YYYY-MM-DD"),"&end_date=").concat(w()(c.calendar[1]).format("YYYY-MM-DD"))).then(e=>o(e.data)).catch(e=>console.log(e)),s(!1)},[c]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"pb-2 d-flex justify-content-start",children:(0,d.jsxs)("div",{className:"d-flex align-items-center",children:[(0,d.jsx)(j.A,{size:15}),(0,d.jsx)(b.A,{className:"form-control flat-picker bg-transparent border-0 shadow-none",style:{width:"205px"},value:c.calendar,onChange:e=>p(t=>(0,u.A)((0,u.A)({},t),{},{calendar:e})),options:{mode:"range",dateFormat:"d/m/Y"}})]})}),(0,d.jsxs)(a.Zp,{children:[(0,d.jsx)(a.aR,{children:(0,d.jsx)(a.ZB,{children:(0,d.jsx)("h2",{children:"Saldo"})})}),(0,d.jsxs)(a.bw,{className:"d-flex p-0 flex-wrap",children:[(0,d.jsx)("div",{className:"wrap-info",children:(0,d.jsx)(x,{iconBg:"light",icon:(0,d.jsx)(h.A,{}),stat:i?(0,l.cC)(null===i||void 0===i?void 0:i.balance_total):(0,d.jsx)(N.A,{}),statTitle:"Total a repassar"})}),(0,d.jsx)("div",{className:"wrap-info",children:(0,d.jsx)(x,{iconBg:"light",icon:(0,d.jsx)(h.A,{}),stat:i?(0,l.cC)(null===i||void 0===i?void 0:i.pending_total):(0,d.jsx)(N.A,{}),statTitle:"Total a liberar"})}),(0,d.jsx)("div",{className:"wrap-info",children:(0,d.jsx)(x,{iconBg:"light",icon:(0,d.jsx)(h.A,{}),stat:i?(0,l.cC)((null===i||void 0===i?void 0:i.balance_total)+(null===i||void 0===i?void 0:i.pending_total)):(0,d.jsx)(N.A,{}),statTitle:"Total a repassar + Total a liberar"})}),(0,d.jsx)("div",{className:"wrap-info",children:(0,d.jsx)(x,{iconBg:"danger",icon:(0,d.jsx)(h.A,{}),stat:i?(0,l.cC)(null===i||void 0===i?void 0:i.balance_total_negative):(0,d.jsx)(N.A,{}),statTitle:"Total contas negativas"})})]})]}),(0,d.jsxs)(a.Zp,{children:[(0,d.jsx)(a.aR,{children:(0,d.jsx)(a.ZB,{children:(0,d.jsx)("h2",{children:"Vendas"})})}),(0,d.jsx)(a.bw,{className:"d-flex p-0 flex-wrap",children:(0,d.jsxs)("div",{className:"d-flex flex-wrap w-100",children:[(0,d.jsx)("div",{className:"wrap-info",children:(0,d.jsx)(x,{iconBg:"primary",icon:(0,d.jsx)(f.A,{}),stat:i?(0,l.cC)(null===i||void 0===i?void 0:i.sales.gross_percentage):(0,d.jsx)(N.A,{}),statTitle:"Bruto tarifa vari\xe1vel"})}),(0,d.jsx)("div",{className:"wrap-info",children:(0,d.jsx)(x,{iconBg:"primary",icon:(0,d.jsx)(f.A,{}),stat:i?(0,l.cC)(null===i||void 0===i?void 0:i.sales.gross_fixed):(0,d.jsx)(N.A,{}),statTitle:"Bruto tarifa fixa"})}),(0,d.jsx)("div",{className:"wrap-info",children:(0,d.jsx)(x,{iconBg:"primary",icon:(0,d.jsx)(f.A,{}),stat:i?(0,l.cC)(null===i||void 0===i?void 0:i.sales.installment_amount):(0,d.jsx)(N.A,{}),statTitle:"Bruto tarifa parcelamento"})}),(0,d.jsx)("div",{className:"wrap-info",children:(0,d.jsx)(x,{iconBg:"info",icon:(0,d.jsx)(v.A,{}),stat:i?(0,l.cC)(null===i||void 0===i?void 0:i.sales.gross_profit):(0,d.jsx)(N.A,{}),statTitle:"Bruto Total"})}),(0,d.jsx)("div",{className:"wrap-info",children:(0,d.jsx)(x,{iconBg:"danger",icon:(0,d.jsx)(v.A,{}),stat:i?(0,l.cC)(null===i||void 0===i?void 0:i.sales.cost_total):(0,d.jsx)(N.A,{}),statTitle:"Custo total"})}),(0,d.jsx)("div",{className:"wrap-info",children:(0,d.jsx)(x,{iconBg:"success",icon:(0,d.jsx)(h.A,{}),stat:i?(0,l.cC)(null===i||void 0===i?void 0:i.sales.net_profit):(0,d.jsx)(N.A,{}),statTitle:"L\xedquido"})})]})})]}),(0,d.jsxs)(a.Zp,{children:[(0,d.jsx)(a.aR,{children:(0,d.jsx)(a.ZB,{children:(0,d.jsx)("h2",{children:"Saques"})})}),(0,d.jsxs)(a.bw,{className:"d-flex p-0 flex-wrap",children:[(0,d.jsx)("div",{className:"wrap-info",children:(0,d.jsx)(x,{iconBg:"primary",icon:(0,d.jsx)(f.A,{}),stat:i?(0,l.cC)(null===i||void 0===i?void 0:i.withdrawals.gross_profit):(0,d.jsx)(N.A,{}),statTitle:"Bruto"})}),(0,d.jsx)("div",{className:"wrap-info",children:(0,d.jsx)(x,{iconBg:"success",icon:(0,d.jsx)(h.A,{}),stat:i?(0,l.cC)(null===i||void 0===i?void 0:i.withdrawals.net_profit):(0,d.jsx)(N.A,{}),statTitle:"L\xedquido"})}),(0,d.jsx)("div",{className:"wrap-info",children:(0,d.jsx)(x,{iconBg:"light",icon:(0,d.jsx)(h.A,{}),stat:i?(0,l.cC)((null===i||void 0===i?void 0:i.pending_withdrawals)||0):(0,d.jsx)(N.A,{}),statTitle:"Saques Pendentes"})}),(0,d.jsx)("div",{className:"wrap-info",children:(0,d.jsx)(x,{iconBg:"light",icon:(0,d.jsx)(h.A,{}),stat:i?(0,l.cC)((null===i||void 0===i||null===(e=i.withdrawals)||void 0===e?void 0:e.withdrawal_amount)||0):(0,d.jsx)(N.A,{}),statTitle:"Saques Efetuados"})})]})]}),(0,d.jsxs)(a.Zp,{children:[(0,d.jsx)(a.aR,{children:(0,d.jsx)(a.ZB,{children:(0,d.jsx)("h2",{children:"Lucro Total"})})}),(0,d.jsxs)(a.bw,{className:"d-flex p-0 flex-wrap",children:[(0,d.jsx)("div",{className:"wrap-info",children:(0,d.jsxs)(C.A,{item:{placement:"top",text:(0,d.jsxs)("ul",{children:[(0,d.jsxs)("li",{children:[(0,d.jsx)("div",{children:"Vendas Bruto Total"}),(0,d.jsx)("div",{children:(0,l.cC)(null===i||void 0===i?void 0:i.sales.gross_profit)})]}),(0,d.jsxs)("li",{children:[(0,d.jsx)("div",{children:"Saques Bruto"}),(0,d.jsx)("div",{children:(0,l.cC)(null===i||void 0===i?void 0:i.withdrawals.gross_profit)})]}),(0,d.jsxs)("li",{className:"last",children:[(0,d.jsx)("div",{children:"Total"}),(0,d.jsx)("div",{children:(0,l.cC)((null===i||void 0===i?void 0:i.withdrawals.gross_profit)+(null===i||void 0===i?void 0:i.sales.gross_profit))})]})]})},id:0,children:[(0,d.jsx)(x,{iconBg:"primary",icon:(0,d.jsx)(f.A,{}),stat:i?(0,l.cC)((null===i||void 0===i?void 0:i.withdrawals.gross_profit)+(null===i||void 0===i?void 0:i.sales.gross_profit)):(0,d.jsx)(N.A,{}),statTitle:"Bruto",className:"pointer"}),(0,d.jsx)(g.A,{size:18,style:{marginTop:4}})]})}),(0,d.jsx)("div",{children:(0,d.jsxs)(C.A,{item:{placement:"top",text:(0,d.jsxs)("ul",{children:[(0,d.jsxs)("li",{children:[(0,d.jsx)("div",{children:"Vendas L\xedquido"}),(0,d.jsx)("div",{children:(0,l.cC)(null===i||void 0===i?void 0:i.sales.net_profit)})]}),(0,d.jsxs)("li",{children:[(0,d.jsx)("div",{children:"Saques L\xedquido"}),(0,d.jsx)("div",{children:(0,l.cC)(null===i||void 0===i?void 0:i.withdrawals.net_profit)})]}),(0,d.jsxs)("li",{className:"last",children:[(0,d.jsx)("div",{children:"Total"}),(0,d.jsx)("div",{children:(0,l.cC)((null===i||void 0===i?void 0:i.withdrawals.net_profit)+(null===i||void 0===i?void 0:i.sales.net_profit))})]})]})},id:1,children:[(0,d.jsx)(x,{iconBg:"success",icon:(0,d.jsx)(h.A,{}),stat:i?(0,l.cC)((null===i||void 0===i?void 0:i.withdrawals.net_profit)+(null===i||void 0===i?void 0:i.sales.net_profit)):(0,d.jsx)(N.A,{}),statTitle:"L\xedquido"}),(0,d.jsx)(g.A,{size:18,style:{marginTop:4}})]})})]})]}),(null===i||void 0===i?void 0:i.sales.card)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-3 mb-2",style:{maxWidth:556},children:[(0,d.jsx)("h2",{children:"Parcelamento Cart\xe3o"}),(0,d.jsxs)("p",{className:"h5 pt-0 pb-0",children:["Quantidade de Vendas: ",i.sales.card.count]})]}),(0,d.jsx)(a.mF,{children:(0,d.jsxs)(a.XI,{className:"w-50",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Parcelas"}),(0,d.jsx)("th",{children:"Vendas"}),(0,d.jsx)("th",{children:"Porcentagem"}),(0,d.jsx)("th",{children:"Total"})]})}),i.sales.card.installments.map(e=>(0,d.jsx)("tbody",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{scope:"row",className:"w-50",children:e.installments}),(0,d.jsx)("th",{children:e.count}),(0,d.jsx)("th",{children:Number(e.percentage/100).toLocaleString(void 0,{style:"percent",minimumFractionDigits:2})}),(0,d.jsx)("th",{children:(0,l.cC)(e.total)})]})},e.installments))]})})]})]})};var A=s(11749),k=s(30639),S=s(13467),T=s(96690),_=s(12449),E=s(33006),P=s(6878);const B={position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0},z=(0,A.A)(()=>[{name:"Nome",cell:e=>(0,d.jsx)(T.N_,{to:"/producer/".concat(e.uuid),children:e.full_name})},{name:"Email",cell:e=>e.email},{name:"Total a repassar",cell:e=>(0,d.jsx)(a.Ex,{style:{fontSize:14},children:(0,l.cC)(e.balance)})},{name:"Total a liberar",cell:e=>(0,d.jsx)(a.Ex,{style:{fontSize:14},children:(0,l.cC)(e.pending)})},{name:"Total a repassar + Total a liberar",cell:e=>(0,d.jsx)(a.Ex,{color:"primary",style:{fontSize:14},children:(0,l.cC)(e.balance+e.pending)})},{name:"Saldo Pagarme",cell:e=>(0,d.jsx)(a.Ex,{color:"primary",style:{fontSize:14},children:(0,l.cC)(e.pagarme_balance/100)})}]),Y=new Map,D=()=>{const{skin:e}=(0,S.h)(),[t,s]=(0,n.useState)([]),[l,i]=(0,n.useState)(!1),[o,c]=(0,n.useState)([]),[x,h]=(0,n.useState)(!1),[p,m]=(0,n.useState)(10),[u,j]=(0,n.useState)(""),[f,v]=(0,n.useState)(""),[g,y]=(0,n.useState)([w()().startOf("month").toDate(),w()().toDate()]),b=(0,n.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const a=t||p,l="balances_".concat(e,"_").concat(a,"_").concat(n,"_").concat(w()(g[0]).format("YYYY-MM-DD"),"_").concat(w()(g[1]).format("YYYY-MM-DD")),i=Y.get(l);if(i&&Date.now()-i.timestamp<12e4)return s(i.data.rows),void c(i.data.count);h(!0);try{const t=new URLSearchParams;t.append("page",e),t.append("size",a),n&&t.append("search",n);const i=await r.F.get("users/balances?".concat(t.toString()));Y.set(l,{data:i.data,timestamp:Date.now()}),s(i.data.rows),c(i.data.count)}catch(o){console.log(o)}h(!1)},[p,g]);(0,n.useEffect)(()=>{const e=setTimeout(()=>{v(u)},300);return()=>clearTimeout(e)},[u]),(0,n.useEffect)(()=>{b(0,null,f)},[f,g,b]);const C=(0,n.useCallback)(async(e,t)=>{await b(t-1,e,f),m(e)},[b,f]),O=(0,n.useCallback)(e=>{b(e-1,null,f)},[b,f]),A=(0,n.useCallback)(e=>{j(e.target.value)},[]),T=(0,n.useCallback)(()=>{_.oR.success("Exportando... Essa opera\xe7\xe3o pode demorar",B),i(!0),r.F.get("users/balances/export",{responseType:"blob"}).then(e=>{const t=window.URL.createObjectURL(new Blob([e.data])),s=document.createElement("a");s.href=t,s.setAttribute("download","saldo_usuarios_".concat(w()().format("YYYY-MM-DD"),".xlsx")),document.body.appendChild(s),s.click(),_.oR.success("Exportado com sucesso",B)}).catch(e=>console.error(e)).finally(()=>i(!1))},[f,g]);return(0,d.jsxs)("div",{children:[(0,d.jsx)(a.fI,{className:"mb-2 mt-2",children:(0,d.jsxs)("div",{className:"d-flex justify-content-between w-full",children:[(0,d.jsx)(a.fv,{md:"4",children:(0,d.jsxs)("div",{className:"d-flex align-items-center",children:[(0,d.jsx)(E.A,{size:16,className:"me-2"}),(0,d.jsx)(a.pd,{type:"text",placeholder:"Buscar por nome ou email...",value:u,onChange:A})]})}),(0,d.jsx)(a.fv,{md:"4",className:"d-flex justify-content-end",children:(0,d.jsxs)(a.$n,{color:"primary",onClick:T,className:"d-inline-flex align-items-center",children:[l?(0,d.jsx)(N.A,{}):(0,d.jsx)(P.A,{size:16}),(0,d.jsx)("span",{className:"ms-2",children:l?"Exportando...":"Exportar Excel"})]})})]})}),(0,d.jsx)("div",{children:(0,d.jsx)(k.Ay,{columns:z(),data:t,progressPending:x,pagination:!0,paginationServer:!0,paginationTotalRows:o,onChangeRowsPerPage:C,onChangePage:O,paginationComponentOptions:{rowsPerPageText:"Linhas por p\xe1gina:",rangeSeparatorText:"de",noRowsPerPage:!1},progressComponent:(0,d.jsx)(N.A,{text:"Carregando...",showText:!0}),noDataComponent:(0,d.jsx)(d.Fragment,{children:"N\xe3o h\xe1 resultado"}),theme:"dark"===e?"solarized":"solarizedLight"})})]})};s(28285);const F=(0,A.A)(()=>[{name:"Detalhes",cell:e=>e.provider_response_details,minWidth:"750px"},{name:"Numero de ocorr\xeancias",cell:e=>e.total_ocorrencias},{name:"Porcentagem(%)",cell:e=>e.porcentagem.toFixed(2)}]),L=()=>{const[e,t]=(0,n.useState)([]),[s,l]=(0,n.useState)(!1),[i,o]=(0,n.useState)({calendar:[w()().startOf("month").toDate(),w()().toDate()]}),{skin:c}=(0,S.h)();(0,n.useEffect)(()=>{x()},[i.calendar]);const x=async()=>{l(!0);try{const e=await r.F.get("metrics/denieds?start_date=".concat(w()(i.calendar[0]).format("YYYY-MM-DD"),"&end_date=").concat(w()(i.calendar[1]).format("YYYY-MM-DD")));t(e.data)}catch(e){console.log(e)}finally{l(!1)}};return(0,n.useEffect)(()=>{x()},[i]),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"d-flex align-items-center ml-2",children:[(0,d.jsx)(j.A,{size:15,className:"ml-2"}),(0,d.jsx)(b.A,{className:"form-control flat-picker bg-transparent border-0 shadow-none",value:i.calendar,onChange:e=>o(t=>(0,u.A)((0,u.A)({},t),{},{calendar:e})),options:{mode:"range",dateFormat:"d/m/Y"}})]}),(0,d.jsx)("div",{children:(0,d.jsx)(k.Ay,{columns:F(),data:e,progressPending:s,progressComponent:(0,d.jsx)(a.y$,{}),noDataComponent:(0,d.jsx)(d.Fragment,{children:"N\xe3o h\xe1 resultado"}),theme:"dark"===c?"solarized":"solarizedLight"})})]})},I=()=>{const[e,t]=(0,n.useState)([]),[s,l]=(0,n.useState)(!1),[i,o]=(0,n.useState)(0),[c,x]=(0,n.useState)(10),[h,p]=(0,n.useState)(!1),[m,u]=(0,n.useState)(null),{skin:j}=(0,S.h)();(0,n.useEffect)(()=>{v()},[]);const f=e=>{u(e),p(!h)},v=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;l(!0);try{const n=new URLSearchParams;n.append("page",e.toString()),n.append("size",(s||c).toString());const a=await r.F.get("blocks?".concat(n.toString()));t(a.data.rows),o(a.data.count)}catch(n){console.log(n)}finally{l(!1)}},g=(0,A.A)(()=>[{name:"ID",cell:e=>e.id,width:"60px"},{name:"Bloqueio por",cell:e=>e.type},{name:"Oferta",cell:e=>(0,d.jsx)("a",{href:"https://checkout.b4you.com.br/".concat(e.body.offer_id),target:"_blank",rel:"noopener noreferrer",children:"Ver Oferta - ".concat(e.body.offer_id)})},{name:"Email",width:"220px",cell:e=>e.email},{name:"Nome",width:"180px",cell:e=>e.full_name},{name:"CPF",cell:e=>e.document_number},{name:"Telefone",cell:e=>e.phone},{name:"Ip",cell:e=>e.ip},{name:"Criado em",width:"170px",cell:e=>w()(e.created_at).format("DD/MM/YYYY HH:mm:ss")},{name:"Detalhes",width:"110px",cell:e=>(0,d.jsx)("button",{onClick:()=>f({body:e.body,address:e.address,cookies:e.cookies}),className:"btn btn-link",children:"Ver"})}]);return(0,d.jsx)("div",{children:(0,d.jsxs)("div",{children:[(0,d.jsx)(k.Ay,{columns:g(),data:e,progressPending:s,progressComponent:(0,d.jsx)(a.y$,{}),noDataComponent:(0,d.jsx)(d.Fragment,{children:"N\xe3o h\xe1 resultado"}),paginationServer:!0,theme:"dark"===j?"solarized":"solarizedLight",pagination:!0,paginationTotalRows:i,onChangeRowsPerPage:async(e,t)=>{await v(t-1,e),x(e)},onChangePage:e=>{v(e-1)},paginationComponentOptions:{rowsPerPageText:"Linhas por p\xe1gina:",rangeSeparatorText:"de",noRowsPerPage:!1}}),(0,d.jsxs)(a.aF,{isOpen:h,toggle:()=>f(null),children:[(0,d.jsx)(a.rQ,{toggle:()=>f(null),children:"Detalhes"}),(0,d.jsx)(a.cw,{children:(0,d.jsx)("pre",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word",fontWeight:"bold"},children:m?JSON.stringify(m,null,2):"Nenhum detalhe dispon\xedvel."})})]})]})})},R=()=>{const[e,t]=(0,n.useState)("1"),[s,l]=(0,n.useState)(!1),[i,o]=(0,n.useState)(null),c=s=>{e!==s&&t(s)},x=()=>{l(!0),r.F.get("/reports/costs").then(e=>o(e.data)).catch(e=>console.log(e)),l(!1)};return(0,n.useEffect)(()=>{x()},[]),(0,d.jsx)("div",{children:(0,d.jsx)(a.Zp,{children:(0,d.jsxs)(a.bw,{children:[(0,d.jsxs)(a.so,{tabs:!0,children:[(0,d.jsx)(a.CI,{children:(0,d.jsx)(a.k2,{href:"#",active:"1"===e,onClick:()=>{c("1")},children:"Geral"})}),(0,d.jsx)(a.CI,{children:(0,d.jsx)(a.k2,{href:"#",active:"2"===e,onClick:()=>{c("2")},children:"Custos"})}),(0,d.jsx)(a.CI,{children:(0,d.jsx)(a.k2,{href:"#",active:"3"===e,onClick:()=>{c("3")},children:"Saldos"})}),(0,d.jsx)(a.CI,{children:(0,d.jsx)(a.k2,{href:"#",active:"4"===e,onClick:()=>{c("4")},children:"Recusas"})}),(0,d.jsx)(a.CI,{children:(0,d.jsx)(a.k2,{href:"#",active:"5"===e,onClick:()=>{c("5")},children:"Bloqueios"})})]}),(0,d.jsxs)(a.JS,{activeTab:e,children:[(0,d.jsx)(a.mF,{tabId:"1",children:(0,d.jsx)(O,{})}),(0,d.jsx)(a.mF,{tabId:"2",children:i&&(0,d.jsx)(m,{costs:i,fetchCosts:x})}),(0,d.jsx)(a.mF,{tabId:"3",children:(0,d.jsx)(D,{})}),(0,d.jsx)(a.mF,{tabId:"4",children:(0,d.jsx)(L,{})}),(0,d.jsx)(a.mF,{tabId:"5",children:(0,d.jsx)(I,{})})]})]})})})}},77265:(e,t,s)=>{s.d(t,{A:()=>c});var n=s(9950),a=s(5393),r=s.n(a);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},l.apply(this,arguments)}function i(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}var o=(0,n.forwardRef)(function(e,t){var s=e.color,a=void 0===s?"currentColor":s,r=e.size,o=void 0===r?24:r,c=i(e,["color","size"]);return n.createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),n.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"6"}),n.createElement("line",{x1:"12",y1:"18",x2:"12",y2:"22"}),n.createElement("line",{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"}),n.createElement("line",{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"}),n.createElement("line",{x1:"2",y1:"12",x2:"6",y2:"12"}),n.createElement("line",{x1:"18",y1:"12",x2:"22",y2:"12"}),n.createElement("line",{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"}),n.createElement("line",{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"}))});o.propTypes={color:r().string,size:r().oneOfType([r().string,r().number])},o.displayName="Loader";const c=o},94300:()=>{},98664:(e,t,s)=>{s.d(t,{A:()=>c});var n=s(9950),a=s(5393),r=s.n(a);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},l.apply(this,arguments)}function i(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}var o=(0,n.forwardRef)(function(e,t){var s=e.color,a=void 0===s?"currentColor":s,r=e.size,o=void 0===r?24:r,c=i(e,["color","size"]);return n.createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),n.createElement("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),n.createElement("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),n.createElement("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),n.createElement("line",{x1:"3",y1:"10",x2:"21",y2:"10"}))});o.propTypes={color:r().string,size:r().oneOfType([r().string,r().number])},o.displayName="Calendar";const c=o}}]);