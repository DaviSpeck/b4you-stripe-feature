"use strict";(self.webpackChunksixbase_backoffice=self.webpackChunksixbase_backoffice||[]).push([[1023],{63404:(e,a,s)=>{s.r(a),s.d(a,{default:()=>m});var t=s(9950),n=s(30639),l=s(13467),o=s(35203),i=s(11749),r=s(45530),c=s(13955),d=s(29251),p=s(96690),u=s(44414);const h=(0,i.A)(()=>[{name:"Email",cell:e=>e.email},{name:"Nome",cell:e=>e.full_name},{name:"Documento",cell:e=>(0,c.Tq)(e.document,e.is_company?"CNPJ":"CPF")},{name:"Tipo da Conta",cell:e=>e.is_company?"JUR\xcdDICA":"F\xcdSICA"},{name:"Pagarme ID",cell:e=>e.pagarme_id},{name:"Status",cell:e=>{var a;return(0,u.jsx)(o.Ex,{color:null===e||void 0===e||null===(a=e.status)||void 0===a?void 0:a.color,children:e.status.label})}},{name:"Detalhes",center:!0,cell:e=>(0,u.jsx)(p.N_,{to:"/producer/".concat(e.uuid),children:(0,u.jsx)(o.Ex,{color:"primary",style:{cursor:"pointer"},children:(0,u.jsx)(d.A,{size:21})})})}]),m=()=>{const{skin:e}=(0,l.h)(),[a,s]=(0,t.useState)([]),[i,c]=(0,t.useState)(0),[d,p]=(0,t.useState)(10),[m,x]=(0,t.useState)(""),[g,j]=(0,t.useState)(!1),[f,y]=(0,t.useState)("cpf"),[v,C]=(0,t.useState)("all"),[S,P]=(0,t.useState)({filteredCompany:[],filteredIndividual:[]}),b=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;j(!0);try{const t=new URLSearchParams;t.append("page",e.toString()),t.append("size",(a||d).toString()),t.append("status",v),t.append("type",f),m&&t.append("input",m);const n=await r.F.get("/users/pagarme/report/data/filters?".concat(t.toString())),{data:l}=n;c(l.count),s(l.rows)}catch(t){console.log(t)}j(!1)};return(0,t.useEffect)(()=>{b(0)},[m,f,v]),(0,t.useEffect)(()=>{(async()=>{j(!0);try{const e=await r.F.get("/users/pagarme/report/count"),{data:a}=e;P(a)}catch(e){console.log(e)}j(!1)})()},[]),(0,u.jsxs)("section",{id:"pageHomeStudents",children:[(0,u.jsx)("h2",{className:"mb-2",children:"Pagarme - Produtores"}),S&&S.filteredCompany.length>0&&S.filteredIndividual.length>0&&(0,u.jsx)(o.Zp,{className:"p-0",style:{border:"2px solid #3a3f51",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"},children:(0,u.jsxs)(o.aR,{className:"d-flex flex-row",children:[(0,u.jsxs)("div",{className:"col-6",children:[(0,u.jsx)("h4",{className:"text-primary",style:{marginBottom:"1px"},children:"CADASTRADOS PAGARME CNPJ:"}),(0,u.jsx)("ul",{style:{listStyleType:"none",padding:0},children:S.filteredCompany.map(e=>(0,u.jsxs)("li",{style:{fontWeight:"normal"},children:[e.status.label,": ",e.count]},e.status.id))})]}),(0,u.jsxs)("div",{className:"col-6",children:[(0,u.jsx)("h4",{className:"text-primary",style:{marginBottom:"1px"},children:"CADASTRADOS PAGARME CPF:"}),(0,u.jsx)("ul",{style:{listStyleType:"none",padding:0},children:S.filteredIndividual.map(e=>(0,u.jsxs)("li",{style:{fontWeight:"normal"},children:[e.status.label,": ",e.count]},e.status.id))})]})]})}),(0,u.jsx)(o.Zp,{children:(0,u.jsx)(o.bw,{children:(0,u.jsx)(o.gE,{className:"filters",children:(0,u.jsxs)(o.fI,{form:!0,children:[(0,u.jsxs)(o.fv,{md:4,children:[(0,u.jsx)(o.JU,{children:"Nome / E-mail ou CPF"}),(0,u.jsx)(o.pd,{onChange:e=>{let{target:a}=e;setTimeout(()=>{x(a.value)},1e3)}})]}),(0,u.jsxs)(o.fv,{md:4,children:[(0,u.jsx)(o.JU,{children:"Tipo"}),(0,u.jsxs)(o.pd,{type:"select",name:"type",onChange:e=>{e.preventDefault();const a=e.target.value;y(a)},children:[(0,u.jsx)("option",{value:"cpf",children:"CPF"}),(0,u.jsx)("option",{value:"cnpj",children:"CNPJ"})]})]}),(0,u.jsxs)(o.fv,{md:4,children:[(0,u.jsx)(o.JU,{children:"Status"}),(0,u.jsxs)(o.pd,{type:"select",name:"status",onChange:e=>{e.preventDefault();const a=e.target.value;C(a)},children:[(0,u.jsx)("option",{value:"all",children:"Todos"}),(0,u.jsx)("option",{value:"0",children:"N\xe3o cadastrado/Iniciado"}),(0,u.jsx)("option",{value:"3",children:"Aprovado"}),(0,u.jsx)("option",{value:"4",children:"Negado"})]})]})]})})})}),(0,u.jsx)(o.Zp,{children:(0,u.jsx)(o.bw,{children:(0,u.jsx)(n.Ay,{columns:h(),data:a,pagination:!0,progressPending:g,progressComponent:(0,u.jsx)("span",{children:"Carregando"}),paginationServer:!0,paginationTotalRows:i,onChangeRowsPerPage:async(e,a)=>{await b(a-1,e),p(e)},onChangePage:e=>{b(e-1)},paginationComponentOptions:{rowsPerPageText:"Linhas por p\xe1gina:",rangeSeparatorText:"de",noRowsPerPage:!1},theme:"dark"===e?"solarized":"solarizedLight"})})})]})}}}]);